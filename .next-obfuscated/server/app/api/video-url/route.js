(function(_0x34c551,_0x186ba6){const _0x274a5d=a35_0x22a8,_0x39091c=_0x34c551();while(!![]){try{const _0x351113=parseInt(_0x274a5d(0xc9))/0x1+-parseInt(_0x274a5d(0xc7))/0x2*(parseInt(_0x274a5d(0xad))/0x3)+-parseInt(_0x274a5d(0xb0))/0x4*(-parseInt(_0x274a5d(0xc5))/0x5)+-parseInt(_0x274a5d(0xd4))/0x6*(-parseInt(_0x274a5d(0xaa))/0x7)+-parseInt(_0x274a5d(0xd9))/0x8*(parseInt(_0x274a5d(0xa8))/0x9)+-parseInt(_0x274a5d(0xf0))/0xa*(parseInt(_0x274a5d(0xc0))/0xb)+-parseInt(_0x274a5d(0xe7))/0xc;if(_0x351113===_0x186ba6)break;else _0x39091c['push'](_0x39091c['shift']());}catch(_0x1f7d80){_0x39091c['push'](_0x39091c['shift']());}}}(a35_0x2efc,0x789e0));const a35_0x294a8b=(function(){let _0x4cc23c=!![];return function(_0x33961d,_0x842dd4){const _0x55b356=_0x4cc23c?function(){const _0x4fa67c=a35_0x22a8;if(_0x842dd4){const _0x1aefce=_0x842dd4[_0x4fa67c(0x100)](_0x33961d,arguments);return _0x842dd4=null,_0x1aefce;}}:function(){};return _0x4cc23c=![],_0x55b356;};}()),a35_0x452326=a35_0x294a8b(this,function(){const _0xc35bf5=a35_0x22a8;return a35_0x452326[_0xc35bf5(0xee)]()[_0xc35bf5(0xf7)](_0xc35bf5(0xd7))['toString']()[_0xc35bf5(0xd5)](a35_0x452326)[_0xc35bf5(0xf7)](_0xc35bf5(0xd7));});a35_0x452326();function a35_0x2efc(){const _0x4972f7=['690395SXNCPC','\x20bytes\x20after\x20Base64\x20decoding.','6fd1e6976aae4a254e68ad064ca2e7515a4befdb','APP_ROUTE','final','json','Unknown\x20server\x20error','subarray','FIREBASE_PRIVATE_KEY','initializeApp','startsWith','2586cKaUHY','constructor','AIzaSyCuXs_szwwsAzEWC_0DAzjJloCLle68ZTI','(((.+)+)+)+$','getSignedUrl','16AzwdWn','verifyIdToken','isFree','1:888420412846:web:75d82e40765479c8832c3f','firestore','get','exists','/api/video-url/route','studio-6929130257-b96ff.firebaseapp.com','Invalid\x20KEK\x20format.\x20Expected\x20a\x2032-byte\x20key,\x20but\x20received\x20','KEK_SECRET','Internal\x20Server\x20Error:\x20','doc','Firebase\x20Admin\x20SDK\x20credentials\x20(FIREBASE_PROJECT_ID,\x20FIREBASE_CLIENT_EMAIL,\x20FIREBASE_PRIVATE_KEY)\x20are\x20not\x20set\x20in\x20environment\x20variables.','1831632sbfOLL','exports','NextResponse','/api/video-url','getApps','route','FIREBASE_CLIENT_EMAIL','toString','file','130dawsPM','firebase-admin/app','privateKey','Not\x20Found:\x20Video\x20not\x20found','Not\x20Found:\x20File\x20path\x20is\x20missing\x20in\x20episode\x20data.','message','f51d733f122950e1d97c1a94346065295d3cc898','search','env','length','bucket','Forbidden:\x20Subscription\x20required','read','concat','/home/user/studio/src/app/api/video-url/route.ts','from','apply','ids','FIREBASE_PROJECT_ID','cert','KEK_SECRET\x20is\x20not\x20configured.\x20Cannot\x20decrypt\x20master\x20keys.','then','headers','Unauthorized:\x20Missing\x20or\x20invalid\x20token','toDate','firebase-admin-app-rsc','uid','firebase-admin','expiresAt','Authorization','3079719iZcMHs','replace','13349AZjLMY','find','now','45PBTkFk','../../../webpack-runtime.js','activeSubscriptions','4cuwRsa','storageBucket','clientEmail','888420412846','split','Forbidden:\x20User\x20not\x20found','createDecipheriv','credential','projectId','data','auth','app/api/video-url/route','setAuthTag','408c1c0e8171b01286df0f1ea44487b1a07b8b72','studio-6929130257-b96ff.firebasestorage.app','base64','565433TMXVMm','next/dist/compiled/next-server/app-page.runtime.prod.js','name','Bearer\x20','studio-6929130257-b96ff','3253590ScSlJb','users','21830LiXqXB','collection'];a35_0x2efc=function(){return _0x4972f7;};return a35_0x2efc();}'use strict';function a35_0x22a8(_0x481cbf,_0x5f3a89){_0x481cbf=_0x481cbf-0xa4;const _0x301067=a35_0x2efc();let _0x452326=_0x301067[_0x481cbf];return _0x452326;}((()=>{const _0xb8aea4=a35_0x22a8;var _0x5d6cb7={};_0x5d6cb7['id']=0x1ef2,_0x5d6cb7[_0xb8aea4(0x101)]=[0x1ef2],_0x5d6cb7['modules']={0x1695d:_0x11d866=>{const _0x2b4c49=_0xb8aea4;_0x11d866[_0x2b4c49(0xe8)]=require(_0x2b4c49(0xa5));},0x4faf:_0xa3ab34=>{const _0x3c20db=_0xb8aea4;_0xa3ab34[_0x3c20db(0xe8)]=require(_0x3c20db(0xc1));},0x7735:_0x1a0342=>{const _0x1bc514=_0xb8aea4;_0x1a0342[_0x1bc514(0xe8)]=require('next/dist/compiled/next-server/app-route.runtime.prod.js');},0x14b22:_0x1dc533=>{const _0x32b42f=_0xb8aea4;_0x1dc533[_0x32b42f(0xe8)]=require('crypto');},0xcbf:_0x562e64=>{const _0x51298a=_0xb8aea4;_0x562e64[_0x51298a(0xe8)]=import(_0x51298a(0xf1));},0xc088:(_0x2749fa,_0x4b2e2a,_0x42a489)=>{_0x42a489['a'](_0x2749fa,async(_0x3fbc21,_0x26612a)=>{const _0xf8b9a2=a35_0x22a8;try{_0x42a489['r'](_0x4b2e2a),_0x42a489['d'](_0x4b2e2a,{'originalPathname':()=>_0x1a18ff,'patchFetch':()=>_0x5f4a21,'requestAsyncStorage':()=>_0x30fb10,'routeModule':()=>_0x2fe9ae,'serverHooks':()=>_0x169bed,'staticGenerationAsyncStorage':()=>_0x3e6f56});var _0x26bc97=_0x42a489(0xc097),_0x5ebdc2=_0x42a489(0x15a8c),_0x3fa657=_0x42a489(0xecfe),_0xb77386=_0x42a489(0x1106),_0x383889=_0x3fbc21([_0xb77386]);_0xb77386=(_0x383889[_0xf8b9a2(0x105)]?(await _0x383889)():_0x383889)[0x0];let _0x2fe9ae=new _0x26bc97['AppRouteRouteModule']({'definition':{'kind':_0x5ebdc2['x'][_0xf8b9a2(0xcc)],'page':_0xf8b9a2(0xe0),'pathname':_0xf8b9a2(0xea),'filename':_0xf8b9a2(0xec),'bundlePath':_0xf8b9a2(0xbb)},'resolvedPagePath':_0xf8b9a2(0xfe),'nextConfigOutput':'','userland':_0xb77386}),{requestAsyncStorage:_0x30fb10,staticGenerationAsyncStorage:_0x3e6f56,serverHooks:_0x169bed}=_0x2fe9ae,_0x1a18ff='/api/video-url/route';function _0x5f4a21(){return(0x0,_0x3fa657['patchFetch'])({'serverHooks':_0x169bed,'staticGenerationAsyncStorage':_0x3e6f56});}_0x26612a();}catch(_0xcda2f5){_0x26612a(_0xcda2f5);}});},0x1106:(_0x18b004,_0x95bd28,_0x25fb0d)=>{_0x25fb0d['a'](_0x18b004,async(_0x5925a5,_0x2be79b)=>{const _0x40095d=a35_0x22a8;try{_0x25fb0d['r'](_0x95bd28),_0x25fb0d['d'](_0x95bd28,{'POST':()=>_0x2013d3});var _0x5cebbd=_0x25fb0d(0x5f0a);_0x25fb0d(0xeb06);var _0x26c2b4=_0x25fb0d(0x1541e),_0x445a38=_0x25fb0d(0x141f5),_0x4f0c6d=_0x25fb0d(0x1695d),_0x3c896a=_0x25fb0d(0x12734),_0x41a730=_0x25fb0d(0x9eaa),_0x443d19=_0x5925a5([_0x445a38]);async function _0x2013d3(_0xf4ff38){const _0x1a55ad=a35_0x22a8;try{let _0x163d9e=await(0x0,_0x445a38['vc'])(),_0x2784e9=_0x4f0c6d[_0x1a55ad(0xba)](_0x163d9e),_0x341f91=_0x4f0c6d[_0x1a55ad(0xdd)](_0x163d9e),_0x3edd7d=_0x4f0c6d['storage'](_0x163d9e),_0x799da=_0xf4ff38[_0x1a55ad(0x106)][_0x1a55ad(0xde)](_0x1a55ad(0xa7));if(!_0x799da?.[_0x1a55ad(0xd3)]('Bearer\x20'))return _0x26c2b4['NextResponse'][_0x1a55ad(0xce)]({'error':_0x1a55ad(0x107)},{'status':0x191});let _0x200f38=_0x799da[_0x1a55ad(0xb4)](_0x1a55ad(0xc3))[0x1],_0x293cae=(await _0x2784e9[_0x1a55ad(0xda)](_0x200f38))[_0x1a55ad(0xa4)],{videoId:_0x30c8d2,fileName:_0x35c7b6}=await _0xf4ff38[_0x1a55ad(0xce)]();if(!_0x30c8d2||!_0x35c7b6)return _0x26c2b4['NextResponse'][_0x1a55ad(0xce)]({'error':'Bad\x20Request:\x20videoId\x20and\x20fileName\x20are\x20required'},{'status':0x190});let _0x32a032=await _0x341f91[_0x1a55ad(0xc8)](_0x1a55ad(0xc6))[_0x1a55ad(0xe5)](_0x293cae)[_0x1a55ad(0xde)]();if(!_0x32a032[_0x1a55ad(0xdf)])return _0x26c2b4['NextResponse'][_0x1a55ad(0xce)]({'error':_0x1a55ad(0xb5)},{'status':0x193});let _0x3dbce2=_0x32a032[_0x1a55ad(0xb9)](),_0x2e3f97=await _0x341f91[_0x1a55ad(0xc8)]('episodes')[_0x1a55ad(0xe5)](_0x30c8d2)[_0x1a55ad(0xde)]();if(!_0x2e3f97[_0x1a55ad(0xdf)])return _0x26c2b4[_0x1a55ad(0xe9)][_0x1a55ad(0xce)]({'error':_0x1a55ad(0xf3)},{'status':0x194});let _0x4a114f=_0x2e3f97[_0x1a55ad(0xb9)](),_0x1e3beb=_0x3dbce2[_0x1a55ad(0xaf)]?.[_0x4a114f['courseId']];if(!(_0x1e3beb&&new Date()<(0x0,_0x3c896a['we'])(_0x1e3beb[_0x1a55ad(0xa6)]))&&!_0x4a114f[_0x1a55ad(0xdb)])return _0x26c2b4[_0x1a55ad(0xe9)][_0x1a55ad(0xce)]({'error':_0x1a55ad(0xfb)},{'status':0x193});if(!_0x35c7b6)return _0x26c2b4[_0x1a55ad(0xe9)][_0x1a55ad(0xce)]({'error':_0x1a55ad(0xf4)},{'status':0x194});let [_0x528d1f]=await _0x3edd7d[_0x1a55ad(0xfa)]()[_0x1a55ad(0xef)](_0x35c7b6)[_0x1a55ad(0xd8)]({'version':'v4','action':_0x1a55ad(0xfc),'expires':Date[_0x1a55ad(0xac)]()+0xdbba0,'virtualHostedStyle':!0x0});return _0x26c2b4[_0x1a55ad(0xe9)]['json']({'signedUrl':_0x528d1f});}catch(_0x453b0f){let _0x175523=_0x453b0f instanceof Error?_0x453b0f[_0x1a55ad(0xf5)]:_0x1a55ad(0xcf);return _0x26c2b4[_0x1a55ad(0xe9)]['json']({'error':_0x1a55ad(0xe4)+_0x175523},{'status':0x1f4});}}_0x445a38=(_0x443d19[_0x40095d(0x105)]?(await _0x443d19)():_0x443d19)[0x0],(0x0,_0x41a730['h'])([_0x2013d3]),(0x0,_0x5cebbd['j'])('81f945195bbea2473d5439300680fc6969597f87',_0x2013d3),_0x2be79b();}catch(_0x327ac9){_0x2be79b(_0x327ac9);}});},0xf8cf:(_0x59a0d9,_0x21f5c2,_0x4a8d68)=>{const _0x251bd8=_0xb8aea4;_0x4a8d68['d'](_0x21f5c2,{'q':()=>_0x2ad9bc});let _0x2ad9bc={'apiKey':_0x251bd8(0xd6),'authDomain':_0x251bd8(0xe1),'projectId':_0x251bd8(0xc4),'storageBucket':_0x251bd8(0xbe),'messagingSenderId':_0x251bd8(0xb3),'appId':_0x251bd8(0xdc)};},0x12734:(_0x2addb1,_0x6239e0,_0x150876)=>{function _0x4f3730(_0x337b11){const _0x12d45e=a35_0x22a8;return _0x337b11?'function'==typeof _0x337b11[_0x12d45e(0x108)]?_0x337b11[_0x12d45e(0x108)]():_0x337b11 instanceof Date?_0x337b11:null:null;}_0x150876['d'](_0x6239e0,{'we':()=>_0x4f3730});},0x141f5:(_0x3f0b55,_0x31f09c,_0x343209)=>{_0x343209['a'](_0x3f0b55,async(_0x499008,_0x2a8846)=>{const _0xa9308=a35_0x22a8;try{_0x343209['d'](_0x31f09c,{'Fb':()=>_0x125c5f,'RI':()=>_0x4b5cd6,'vc':()=>_0x112d3d});var _0x2399ef=_0x343209(0x5f0a);_0x343209(0xeb06);var _0x109627=_0x343209(0x1695d),_0x3781e5=_0x343209(0xcbf),_0x361e3b=_0x343209(0xf8cf),_0x29ffbb=_0x343209(0x14b22),_0x1c2c89=_0x343209(0x9eaa),_0x5a9618=_0x499008([_0x3781e5]);_0x3781e5=(_0x5a9618['then']?(await _0x5a9618)():_0x5a9618)[0x0];let _0x3ae2f9=_0xa9308(0x109),_0x2d35dd=null;async function _0x4b5cd6(){const _0x629c2c=_0xa9308;if(_0x2d35dd)return _0x2d35dd;let _0x4d28ef=process[_0x629c2c(0xf8)][_0x629c2c(0xe3)];if(_0x4d28ef){let _0x379e8a=Buffer[_0x629c2c(0xff)](_0x4d28ef,_0x629c2c(0xbf));try{return function(_0x2042b1){const _0x1ad2ec=_0x629c2c;if(0x20!==_0x2042b1[_0x1ad2ec(0xf9)])throw Error(_0x1ad2ec(0xe2)+_0x2042b1[_0x1ad2ec(0xf9)]+_0x1ad2ec(0xca));}(_0x379e8a),_0x2d35dd=_0x379e8a;}catch(_0x29a088){throw _0x29a088;}}throw Error(_0x629c2c(0x104));}async function _0x125c5f(_0x50b024){const _0x2b0bd4=_0xa9308;let _0x38632f=await _0x4b5cd6(),_0xaab58b=Buffer[_0x2b0bd4(0xff)](_0x50b024,_0x2b0bd4(0xbf)),_0x22ec75=_0xaab58b[_0x2b0bd4(0xd0)](0x0,0xc),_0x48e977=_0xaab58b[_0x2b0bd4(0xd0)](_0xaab58b['length']-0x10),_0x5e2cb3=_0xaab58b[_0x2b0bd4(0xd0)](0xc,_0xaab58b['length']-0x10),_0x3f41bc=_0x29ffbb[_0x2b0bd4(0xb6)]('aes-256-gcm',_0x38632f,_0x22ec75);return _0x3f41bc[_0x2b0bd4(0xbc)](_0x48e977),Buffer[_0x2b0bd4(0xfd)]([_0x3f41bc['update'](_0x5e2cb3),_0x3f41bc[_0x2b0bd4(0xcd)]()]);}async function _0x112d3d(){const _0x4bbc0e=_0xa9308;let _0x55e9d2=(0x0,_0x3781e5[_0x4bbc0e(0xeb)])()[_0x4bbc0e(0xab)](_0x22d5bf=>_0x22d5bf[_0x4bbc0e(0xc2)]===_0x3ae2f9);if(_0x55e9d2)return _0x55e9d2;let _0x20c2ba={'projectId':process['env'][_0x4bbc0e(0x102)],'clientEmail':process[_0x4bbc0e(0xf8)][_0x4bbc0e(0xed)],'privateKey':process[_0x4bbc0e(0xf8)][_0x4bbc0e(0xd1)]?.[_0x4bbc0e(0xa9)](/\\n/g,'\x0a')};if(!_0x20c2ba[_0x4bbc0e(0xb8)]||!_0x20c2ba[_0x4bbc0e(0xb2)]||!_0x20c2ba[_0x4bbc0e(0xf2)])throw Error(_0x4bbc0e(0xe6));try{return _0x109627[_0x4bbc0e(0xd2)]({'credential':_0x109627[_0x4bbc0e(0xb7)][_0x4bbc0e(0x103)](_0x20c2ba),'storageBucket':_0x361e3b['q'][_0x4bbc0e(0xb1)]},_0x3ae2f9);}catch(_0x4038f9){throw Error('Could\x20not\x20initialize\x20Firebase\x20Admin\x20SDK.\x20Please\x20check\x20your\x20credentials.');}}(0x0,_0x1c2c89['h'])([_0x4b5cd6,_0x125c5f,_0x112d3d]),(0x0,_0x2399ef['j'])(_0xa9308(0xbd),_0x4b5cd6),(0x0,_0x2399ef['j'])(_0xa9308(0xf6),_0x125c5f),(0x0,_0x2399ef['j'])(_0xa9308(0xcb),_0x112d3d),_0x2a8846();}catch(_0x3774d3){_0x2a8846(_0x3774d3);}});}};var _0x4e1859=require(_0xb8aea4(0xae));_0x4e1859['C'](_0x5d6cb7);var _0x3551b9=_0x2fc936=>_0x4e1859(_0x4e1859['s']=_0x2fc936),_0x13d655=_0x4e1859['X'](0x0,[0x22f4,0x1754,0x2095],()=>_0x3551b9(0xc088));module['exports']=_0x13d655;})());