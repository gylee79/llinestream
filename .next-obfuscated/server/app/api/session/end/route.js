(function(_0x4f7267,_0x1b8c61){const _0x12f0d9=a33_0x1e05,_0x6ba76=_0x4f7267();while(!![]){try{const _0x30c17d=parseInt(_0x12f0d9(0x206))/0x1*(parseInt(_0x12f0d9(0x1d0))/0x2)+-parseInt(_0x12f0d9(0x211))/0x3*(parseInt(_0x12f0d9(0x1e0))/0x4)+parseInt(_0x12f0d9(0x1ca))/0x5+-parseInt(_0x12f0d9(0x1fd))/0x6*(-parseInt(_0x12f0d9(0x201))/0x7)+-parseInt(_0x12f0d9(0x1de))/0x8+parseInt(_0x12f0d9(0x1fc))/0x9*(parseInt(_0x12f0d9(0x212))/0xa)+parseInt(_0x12f0d9(0x1f0))/0xb*(parseInt(_0x12f0d9(0x1ef))/0xc);if(_0x30c17d===_0x1b8c61)break;else _0x6ba76['push'](_0x6ba76['shift']());}catch(_0x1c4f7c){_0x6ba76['push'](_0x6ba76['shift']());}}}(a33_0x5c4b,0xadb23));const a33_0x689010=(function(){let _0x233a70=!![];return function(_0x573e4d,_0x559bac){const _0x226b08=_0x233a70?function(){const _0x33e501=a33_0x1e05;if(_0x559bac){const _0x1a5859=_0x559bac[_0x33e501(0x1fb)](_0x573e4d,arguments);return _0x559bac=null,_0x1a5859;}}:function(){};return _0x233a70=![],_0x226b08;};}()),a33_0xe12db5=a33_0x689010(this,function(){const _0x1855b7=a33_0x1e05;return a33_0xe12db5[_0x1855b7(0x1df)]()[_0x1855b7(0x1d5)](_0x1855b7(0x1ea))[_0x1855b7(0x1df)]()[_0x1855b7(0x1fa)](a33_0xe12db5)[_0x1855b7(0x1d5)](_0x1855b7(0x1ea));});a33_0xe12db5();function a33_0x1e05(_0x254815,_0x363ece){_0x254815=_0x254815-0x1c9;const _0x3fb3a1=a33_0x5c4b();let _0xe12db5=_0x3fb3a1[_0x254815];return _0xe12db5;}'use strict';((()=>{const _0x2ec1c3=a33_0x1e05;var _0x330a8b={};_0x330a8b['id']=0x2353,_0x330a8b[_0x2ec1c3(0x208)]=[0x2353],_0x330a8b[_0x2ec1c3(0x21d)]={0x1695d:_0x335e68=>{const _0x331437=_0x2ec1c3;_0x335e68[_0x331437(0x1e5)]=require('firebase-admin');},0x4faf:_0x53e3f8=>{const _0x14d839=_0x2ec1c3;_0x53e3f8[_0x14d839(0x1e5)]=require(_0x14d839(0x1d8));},0x7735:_0x460534=>{const _0x392ce7=_0x2ec1c3;_0x460534[_0x392ce7(0x1e5)]=require('next/dist/compiled/next-server/app-route.runtime.prod.js');},0x14b22:_0x305f17=>{const _0x3bc5f5=_0x2ec1c3;_0x305f17[_0x3bc5f5(0x1e5)]=require(_0x3bc5f5(0x21a));},0xcbf:_0x1410ae=>{const _0x2a000e=_0x2ec1c3;_0x1410ae[_0x2a000e(0x1e5)]=import('firebase-admin/app');},0x11ce1:_0x25855e=>{_0x25855e['exports']=import('firebase-admin/firestore');},0x77d8:(_0x123da3,_0x44dfdc,_0x359609)=>{_0x359609['a'](_0x123da3,async(_0x321313,_0x47dd0e)=>{const _0x2ff2d3=a33_0x1e05;try{_0x359609['r'](_0x44dfdc),_0x359609['d'](_0x44dfdc,{'originalPathname':()=>_0x2167d8,'patchFetch':()=>_0x1ce9e4,'requestAsyncStorage':()=>_0x51a8fb,'routeModule':()=>_0x39472f,'serverHooks':()=>_0x1b7e02,'staticGenerationAsyncStorage':()=>_0x2a042c});var _0x17a283=_0x359609(0xc097),_0x280d1b=_0x359609(0x15a8c),_0x1b9e5f=_0x359609(0xecfe),_0x3205f0=_0x359609(0xc111),_0x2f476b=_0x321313([_0x3205f0]);_0x3205f0=(_0x2f476b[_0x2ff2d3(0x220)]?(await _0x2f476b)():_0x2f476b)[0x0];let _0x39472f=new _0x17a283['AppRouteRouteModule']({'definition':{'kind':_0x280d1b['x'][_0x2ff2d3(0x1c9)],'page':_0x2ff2d3(0x1eb),'pathname':_0x2ff2d3(0x1f4),'filename':'route','bundlePath':'app/api/session/end/route'},'resolvedPagePath':'/home/user/studio/src/app/api/session/end/route.ts','nextConfigOutput':'','userland':_0x3205f0}),{requestAsyncStorage:_0x51a8fb,staticGenerationAsyncStorage:_0x2a042c,serverHooks:_0x1b7e02}=_0x39472f,_0x2167d8=_0x2ff2d3(0x1eb);function _0x1ce9e4(){return(0x0,_0x1b9e5f['patchFetch'])({'serverHooks':_0x1b7e02,'staticGenerationAsyncStorage':_0x2a042c});}_0x47dd0e();}catch(_0x6d5267){_0x47dd0e(_0x6d5267);}});},0xc111:(_0x3ad820,_0x38908c,_0x2778c8)=>{_0x2778c8['a'](_0x3ad820,async(_0x2231ef,_0x35414d)=>{const _0x104531=a33_0x1e05;try{_0x2778c8['r'](_0x38908c),_0x2778c8['d'](_0x38908c,{'POST':()=>_0xa35260});var _0x2597b7=_0x2778c8(0x5f0a);_0x2778c8(0xeb06);var _0x26744d=_0x2778c8(0x1541e),_0x3609b2=_0x2778c8(0x1368a),_0x2965b4=_0x2778c8(0x9eaa),_0x5215ca=_0x2231ef([_0x3609b2]);async function _0xa35260(_0x200b10){const _0x3d996d=a33_0x1e05;try{let {sessionId:_0x2dc196}=await _0x200b10[_0x3d996d(0x1e7)]();if(!_0x2dc196)return _0x26744d[_0x3d996d(0x1d4)][_0x3d996d(0x1e7)]({'success':!0x1,'message':_0x3d996d(0x204)},{'status':0x190});return await(0x0,_0x3609b2['Sz'])(_0x2dc196),_0x26744d[_0x3d996d(0x1d4)]['json']({'success':!0x0});}catch(_0x58d830){return _0x26744d[_0x3d996d(0x1d4)]['json']({'success':!0x1,'message':_0x3d996d(0x1dc)},{'status':0x1f4});}}_0x3609b2=(_0x5215ca[_0x104531(0x220)]?(await _0x5215ca)():_0x5215ca)[0x0],(0x0,_0x2965b4['h'])([_0xa35260]),(0x0,_0x2597b7['j'])(_0x104531(0x1f2),_0xa35260),_0x35414d();}catch(_0xed036d){_0x35414d(_0xed036d);}});},0xf8cf:(_0x4829ac,_0x4c08a1,_0x59d0f6)=>{const _0x4a943d=_0x2ec1c3;_0x59d0f6['d'](_0x4c08a1,{'q':()=>_0x1d682c});let _0x1d682c={'apiKey':_0x4a943d(0x1ec),'authDomain':_0x4a943d(0x1fe),'projectId':_0x4a943d(0x1f6),'storageBucket':'studio-6929130257-b96ff.firebasestorage.app','messagingSenderId':'888420412846','appId':_0x4a943d(0x1cb)};},0x1368a:(_0xc45316,_0xcfe45f,_0x25b76c)=>{_0x25b76c['a'](_0xc45316,async(_0x540441,_0x1bfe31)=>{const _0x3edb47=a33_0x1e05;try{_0x25b76c['d'](_0xcfe45f,{'Rx':()=>_0x3fb1e0,'Sz':()=>_0x16f782,'mP':()=>_0x7625f});var _0x736f12=_0x25b76c(0x5f0a);_0x25b76c(0xeb06);var _0x4d2750=_0x25b76c(0x141f5),_0x13c96e=_0x25b76c(0x1695d),_0x222b97=_0x25b76c(0x11ce1),_0x311f53=_0x25b76c(0x9eaa),_0x176ebe=_0x540441([_0x4d2750,_0x222b97]);async function _0x7625f(_0x225cb3,_0x4619fc,_0x3be5c9){const _0x4bd4e2=a33_0x1e05;let _0x40f02f=await(0x0,_0x4d2750['vc'])(),_0x22a162=_0x13c96e['firestore'](_0x40f02f),_0x3ddf84=_0x22a162[_0x4bd4e2(0x216)](_0x4bd4e2(0x1f8)),_0x400c79=_0x3ddf84[_0x4bd4e2(0x1e1)](),_0x350daa=async _0x410564=>{const _0x32f6e6=_0x4bd4e2;let _0x53b549=_0x410564||_0x400c79['id'];await _0x3ddf84[_0x32f6e6(0x1e1)](_0x53b549)[_0x32f6e6(0x1e3)]()[_0x32f6e6(0x20e)](_0x1f2b36=>console[_0x32f6e6(0x1e8)](_0x32f6e6(0x207)+_0x53b549,_0x1f2b36));};try{return await _0x22a162[_0x4bd4e2(0x1d3)](async _0x3aa005=>{const _0x42a26f=_0x4bd4e2;let _0x38a761=_0x222b97[_0x42a26f(0x20a)]['now'](),_0x51041a=_0x222b97['Timestamp']['fromMillis'](_0x38a761[_0x42a26f(0x210)]()-0x15f90),_0xe48260=_0x3ddf84['where'](_0x42a26f(0x1ce),'==',_0x225cb3),_0x49f806=await _0x3aa005[_0x42a26f(0x1f7)](_0xe48260),_0x337c05=[],_0xdedd3e=[];if(_0x49f806[_0x42a26f(0x218)](_0x394c82=>{const _0x16e0b5=_0x42a26f;let _0x28c3c9=_0x394c82[_0x16e0b5(0x1f3)]();_0x28c3c9[_0x16e0b5(0x21c)]&&_0x28c3c9['lastHeartbeat'][_0x16e0b5(0x210)]()>_0x51041a[_0x16e0b5(0x210)]()?_0x337c05[_0x16e0b5(0x1cc)](_0x394c82):_0xdedd3e[_0x16e0b5(0x1cc)](_0x394c82);}),_0xdedd3e[_0x42a26f(0x1f1)]>0x0&&_0xdedd3e[_0x42a26f(0x218)](_0x3e3267=>_0x3aa005[_0x42a26f(0x1e3)](_0x3e3267[_0x42a26f(0x20b)])),_0x337c05[_0x42a26f(0x1f1)]>=0x2)throw Error(_0x42a26f(0x1d9));_0x3aa005[_0x42a26f(0x1da)](_0x400c79,{'userId':_0x225cb3,'videoId':_0x4619fc,'deviceId':_0x3be5c9,'startedAt':_0x38a761,'lastHeartbeat':_0x38a761});}),{'success':!0x0,'message':_0x4bd4e2(0x1cd),'sessionId':_0x400c79['id'],'cleanup':()=>_0x350daa(_0x400c79['id'])};}catch(_0x13091d){if(_0x4bd4e2(0x1d9)===_0x13091d['message'])return{'success':!0x1,'message':_0x4bd4e2(0x1ff),'cleanup':async()=>{}};return{'success':!0x1,'message':_0x4bd4e2(0x200),'cleanup':async()=>{}};}}async function _0x3fb1e0(_0x3abe0d){const _0x5d56f=a33_0x1e05;if(!_0x3abe0d)return{'success':!0x1};try{let _0x3389e3=await(0x0,_0x4d2750['vc'])(),_0x2e1180=_0x13c96e[_0x5d56f(0x202)](_0x3389e3);return await _0x2e1180[_0x5d56f(0x216)](_0x5d56f(0x1f8))['doc'](_0x3abe0d)[_0x5d56f(0x1ed)]({'lastHeartbeat':_0x222b97[_0x5d56f(0x20a)][_0x5d56f(0x1d2)]()}),{'success':!0x0};}catch(_0x3e63f3){return{'success':!0x1};}}async function _0x16f782(_0x33f3f9){const _0x48a5bc=a33_0x1e05;if(!_0x33f3f9)return{'success':!0x1};try{let _0x4e4dd9=await(0x0,_0x4d2750['vc'])(),_0xfce134=_0x13c96e['firestore'](_0x4e4dd9);return await _0xfce134[_0x48a5bc(0x216)](_0x48a5bc(0x1f8))[_0x48a5bc(0x1e1)](_0x33f3f9)[_0x48a5bc(0x1e3)](),{'success':!0x0};}catch(_0x5a92e5){return{'success':!0x1};}}[_0x4d2750,_0x222b97]=_0x176ebe[_0x3edb47(0x220)]?(await _0x176ebe)():_0x176ebe,(0x0,_0x311f53['h'])([_0x7625f,_0x3fb1e0,_0x16f782]),(0x0,_0x736f12['j'])(_0x3edb47(0x1db),_0x7625f),(0x0,_0x736f12['j'])(_0x3edb47(0x1d1),_0x3fb1e0),(0x0,_0x736f12['j'])(_0x3edb47(0x20d),_0x16f782),_0x1bfe31();}catch(_0x63c8de){_0x1bfe31(_0x63c8de);}});},0x141f5:(_0x3e367e,_0x2d3a4d,_0x2ed7f4)=>{_0x2ed7f4['a'](_0x3e367e,async(_0x4be862,_0x1952c9)=>{const _0x1063de=a33_0x1e05;try{_0x2ed7f4['d'](_0x2d3a4d,{'Fb':()=>_0x252044,'RI':()=>_0x4ccb85,'vc':()=>_0xfdd78b});var _0x3f8460=_0x2ed7f4(0x5f0a);_0x2ed7f4(0xeb06);var _0xced850=_0x2ed7f4(0x1695d),_0x41f960=_0x2ed7f4(0xcbf),_0x518ac3=_0x2ed7f4(0xf8cf),_0x826975=_0x2ed7f4(0x14b22),_0xc20c28=_0x2ed7f4(0x9eaa),_0x21ef3a=_0x4be862([_0x41f960]);_0x41f960=(_0x21ef3a[_0x1063de(0x220)]?(await _0x21ef3a)():_0x21ef3a)[0x0];let _0x542416=_0x1063de(0x1d6),_0x1c2ee5=null;async function _0x4ccb85(){const _0x159c82=_0x1063de;if(_0x1c2ee5)return _0x1c2ee5;let _0x303949=process[_0x159c82(0x205)][_0x159c82(0x1f9)];if(_0x303949){let _0x43378e=Buffer[_0x159c82(0x1f5)](_0x303949,_0x159c82(0x1e9));try{return function(_0x5c585b){const _0x224e49=_0x159c82;if(0x20!==_0x5c585b['length'])throw Error(_0x224e49(0x215)+_0x5c585b['length']+'\x20bytes\x20after\x20Base64\x20decoding.');}(_0x43378e),_0x1c2ee5=_0x43378e;}catch(_0x3c624e){throw _0x3c624e;}}throw Error('KEK_SECRET\x20is\x20not\x20configured.\x20Cannot\x20decrypt\x20master\x20keys.');}async function _0x252044(_0x37fdec){const _0x322847=_0x1063de;let _0x574d18=await _0x4ccb85(),_0x4dec6c=Buffer[_0x322847(0x1f5)](_0x37fdec,_0x322847(0x1e9)),_0x580af1=_0x4dec6c[_0x322847(0x21b)](0x0,0xc),_0xccd60a=_0x4dec6c[_0x322847(0x21b)](_0x4dec6c[_0x322847(0x1f1)]-0x10),_0x4f8220=_0x4dec6c[_0x322847(0x21b)](0xc,_0x4dec6c[_0x322847(0x1f1)]-0x10),_0x1c4227=_0x826975[_0x322847(0x214)](_0x322847(0x213),_0x574d18,_0x580af1);return _0x1c4227['setAuthTag'](_0xccd60a),Buffer['concat']([_0x1c4227[_0x322847(0x1ed)](_0x4f8220),_0x1c4227[_0x322847(0x217)]()]);}async function _0xfdd78b(){const _0x290056=_0x1063de;let _0x40c309=(0x0,_0x41f960['getApps'])()['find'](_0x1b0141=>_0x1b0141['name']===_0x542416);if(_0x40c309)return _0x40c309;let _0xe4f6db={'projectId':process['env'][_0x290056(0x1cf)],'clientEmail':process[_0x290056(0x205)][_0x290056(0x219)],'privateKey':process[_0x290056(0x205)][_0x290056(0x1e2)]?.[_0x290056(0x20c)](/\\n/g,'\x0a')};if(!_0xe4f6db[_0x290056(0x21f)]||!_0xe4f6db[_0x290056(0x1e6)]||!_0xe4f6db[_0x290056(0x1dd)])throw Error(_0x290056(0x20f));try{return _0xced850[_0x290056(0x1e4)]({'credential':_0xced850[_0x290056(0x1ee)]['cert'](_0xe4f6db),'storageBucket':_0x518ac3['q']['storageBucket']},_0x542416);}catch(_0x12c446){throw Error(_0x290056(0x21e));}}(0x0,_0xc20c28['h'])([_0x4ccb85,_0x252044,_0xfdd78b]),(0x0,_0x3f8460['j'])(_0x1063de(0x1d7),_0x4ccb85),(0x0,_0x3f8460['j'])(_0x1063de(0x209),_0x252044),(0x0,_0x3f8460['j'])(_0x1063de(0x203),_0xfdd78b),_0x1952c9();}catch(_0x248787){_0x1952c9(_0x248787);}});}};var _0x48208a=require(_0x2ec1c3(0x221));_0x48208a['C'](_0x330a8b);var _0x110477=_0x1ae948=>_0x48208a(_0x48208a['s']=_0x1ae948),_0x1769b0=_0x48208a['X'](0x0,[0x22f4,0x1754,0x2095],()=>_0x110477(0x77d8));module[_0x2ec1c3(0x1e5)]=_0x1769b0;})());function a33_0x5c4b(){const _0x503377=['studio-6929130257-b96ff.firebaseapp.com','동시\x20접속\x20가능한\x20기기\x20수(2대)를\x20초과했습니다.\x20다른\x20기기에서\x20재생을\x20중지하고\x20다시\x20시도해주세요.','세션\x20생성\x20중\x20서버\x20오류가\x20발생했습니다.','7gvDref','firestore','6fd1e6976aae4a254e68ad064ca2e7515a4befdb','Session\x20ID\x20is\x20required','env','107yvOOEi','Failed\x20to\x20cleanup\x20session\x20','ids','f51d733f122950e1d97c1a94346065295d3cc898','Timestamp','ref','replace','c642ba8d5849a1159d9527d70667c8b7ee48760e','catch','Firebase\x20Admin\x20SDK\x20credentials\x20(FIREBASE_PROJECT_ID,\x20FIREBASE_CLIENT_EMAIL,\x20FIREBASE_PRIVATE_KEY)\x20are\x20not\x20set\x20in\x20environment\x20variables.','toMillis','3695196lksSbM','372270bgyXsn','aes-256-gcm','createDecipheriv','Invalid\x20KEK\x20format.\x20Expected\x20a\x2032-byte\x20key,\x20but\x20received\x20','collection','final','forEach','FIREBASE_CLIENT_EMAIL','crypto','subarray','lastHeartbeat','modules','Could\x20not\x20initialize\x20Firebase\x20Admin\x20SDK.\x20Please\x20check\x20your\x20credentials.','projectId','then','../../../../webpack-runtime.js','APP_ROUTE','5685565FjoAFI','1:888420412846:web:75d82e40765479c8832c3f','push','세션이\x20성공적으로\x20생성되었습니다.','userId','FIREBASE_PROJECT_ID','17580IaWUfc','783e3fffc62d584389c1934bab17d0b4e76544c7','now','runTransaction','NextResponse','search','firebase-admin-app-rsc','408c1c0e8171b01286df0f1ea44487b1a07b8b72','next/dist/compiled/next-server/app-page.runtime.prod.js','LIMIT_EXCEEDED','set','f69bd0e146d955b222e18875e09a68b26e99e61d','Internal\x20server\x20error','privateKey','8936880kddSUr','toString','4wXnZnI','doc','FIREBASE_PRIVATE_KEY','delete','initializeApp','exports','clientEmail','json','error','base64','(((.+)+)+)+$','/api/session/end/route','AIzaSyCuXs_szwwsAzEWC_0DAzjJloCLle68ZTI','update','credential','1292964pupNle','77UldFMt','length','2c53ed45b10178b5ed762b6412cd315e2e226d10','data','/api/session/end','from','studio-6929130257-b96ff','get','play_sessions','KEK_SECRET','constructor','apply','9wHammz','1147212prHIFK'];a33_0x5c4b=function(){return _0x503377;};return a33_0x5c4b();}