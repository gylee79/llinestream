const a76_0x4e4053=a76_0x3c6c;function a76_0x3c6c(_0x76235f,_0x32fe83){_0x76235f=_0x76235f-0xc9;const _0x49df46=a76_0x59dc();let _0x2f9c76=_0x49df46[_0x76235f];return _0x2f9c76;}(function(_0xb37b42,_0x2fb80e){const _0x1873fe=a76_0x3c6c,_0xd0e7dc=_0xb37b42();while(!![]){try{const _0x39a4b6=parseInt(_0x1873fe(0x18c))/0x1*(-parseInt(_0x1873fe(0x13f))/0x2)+parseInt(_0x1873fe(0x1fa))/0x3+parseInt(_0x1873fe(0x15d))/0x4+parseInt(_0x1873fe(0xee))/0x5*(-parseInt(_0x1873fe(0x1b2))/0x6)+parseInt(_0x1873fe(0x266))/0x7+parseInt(_0x1873fe(0x12d))/0x8*(-parseInt(_0x1873fe(0x186))/0x9)+parseInt(_0x1873fe(0x204))/0xa*(parseInt(_0x1873fe(0x1f2))/0xb);if(_0x39a4b6===_0x2fb80e)break;else _0xd0e7dc['push'](_0xd0e7dc['shift']());}catch(_0x153dc2){_0xd0e7dc['push'](_0xd0e7dc['shift']());}}}(a76_0x59dc,0x922ed));function a76_0x59dc(){const _0x13d6d7=['사용자를\x20찾을\x20수\x20없습니다.','transcript','다운로드\x20재시도','note','세그먼트\x20저장에\x20실패했습니다:\x20','h-4\x20w-4','set','postMessage','70648hkDJmP','Unknown\x20error','/api/offline-license','실시간\x20재생\x20로그','mx-auto\x20h-8\x20w-8\x20animate-spin','startTime','useEffect','scrollTop','where','resultPaths','textarea','ERROR_UNAUTHORIZED_USER','비디오에\x20대해\x20질문하세요...','episode.id','오류\x20발생','put','flex-shrink-0\x20p-2\x20border-b\x20border-gray-700','onsuccess','41422KweztC','관리자\x20페이지에서\x20재분석을\x20시도할\x20수\x20있습니다.','currentTime','load','function','책갈피\x20추가\x20완료','asc','flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20p-4','current','text-center\x20text-red-500\x20p-4\x20bg-red-50\x20rounded-md','appendBuffer','forbidden','):\x20','border\x20rounded-md\x20mb-1\x20bg-white\x20overflow-hidden','exists','flex-grow\x20h-8\x20text-sm\x20border-none\x20focus-visible:ring-0','Player\x20starting...','currentUser','AI가\x20강의\x20내용을\x20분석하고\x20있습니다.','flex-grow\x20pr-4','values','font-mono\x20text-primary\x20font-bold\x20px-1\x20h-auto\x20text-xs\x20cursor-pointer\x20hover:underline','episodes','FATAL:\x20Video\x20processing\x20failed\x20-\x20','bookmarks','stopPropagation','col-span-10\x20md:col-span-3\x20bg-white\x20border-l\x20flex\x20flex-col\x20min-h-0\x20flex-1\x20md:flex-auto','북마크\x20메모가\x20업데이트되었습니다.','\x27을(를)\x20오프라인으로\x20저장했습니다.','rotate(-15deg)','612588sBubqq','getIdToken','p-2\x20space-y-1.5','mr-2\x20h-4\x20w-4\x20text-green-500','text-gray-500\x20flex-shrink-0','[MSE]\x20Video\x20element\x20error:\x20','북마크\x20삭제\x20실패:\x20','aiContent','icon','영상\x20처리\x20미완료','email','toString','abort','delete','open','stalled','죄송합니다,\x20답변\x20생성\x20중\x20오류가\x20발생했습니다.','AI\x20분석\x20요약\x20파일\x20경로를\x20찾을\x20수\x20없습니다.','font-mono\x20text-primary\x20font-bold\x20px-1\x20h-8\x20text-xs','courseId','ids','라이선스\x20발급에\x20실패했습니다.','manifest','absolute\x20right-3\x20top-1/2\x20-translate-y-1/2\x20rounded-sm\x20opacity-70\x20ring-offset-background\x20transition-opacity\x20hover:opacity-100\x20focus:outline-none\x20focus:ring-2\x20focus:ring-ring\x20focus:ring-offset-2\x20disabled:pointer-events-none\x20data-[state=open]:bg-accent\x20data-[state=open]:text-muted-foreground','Using\x20offline\x20data.','objectStoreNames','push','isFree','AI\x20분석\x20완료\x20후\x20사용\x20가능합니다.','채팅\x20기록을\x20불러오는\x20중\x20오류가\x20발생했습니다.\x20Firestore\x20인덱스가\x20필요할\x20수\x20있습니다.','c6c4dcf6a8312891f318f9a598e8171c12bc4d90','세션\x20생성\x20중\x20서버\x20오류가\x20발생했습니다.','저장\x20완료','floor','sourceopen','flex-1\x20flex\x20flex-col\x20md:grid\x20md:grid-cols-10\x20bg-muted/30\x20min-h-0','catch','genkit','IndexedDB\x20열기에\x20실패했습니다.','User\x20not\x20authenticated\x20for\x20AI\x20content\x20download.','flex-1\x20whitespace-pre-wrap\x20break-all','1116ZkThpx','readyState','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20---','c642ba8d5849a1159d9527d70667c8b7ee48760e','value','14DrdvjT','h-4\x20w-4\x20shrink-0\x20transition-transform\x20duration-200','useCallback','src','chat_logs','play','책갈피','revokeObjectURL','text-sm\x20text-foreground\x20whitespace-pre-line\x20break-keep','/admin/bookmarks','map','trim','video','flex\x20min-h-[80px]\x20w-full\x20rounded-md\x20border\x20border-input\x20bg-background\x20px-3\x20py-2\x20text-sm\x20ring-offset-background\x20placeholder:text-muted-foreground\x20focus-visible:outline-none\x20focus-visible:ring-2\x20focus-visible:ring-ring\x20focus-visible:ring-offset-2\x20disabled:cursor-not-allowed\x20disabled:opacity-50','onupgradeneeded','오프라인\x20저장','ref','toDate','flex\x20flex-col\x20h-full\x20p-4','now','권한\x20확인\x20중...','readwrite','useTransition','split','w-full\x20bg-primary','bg-primary\x20text-white','타임라인','substring','summary','border-b','span','rounded-md\x20shadow-md\x20mb-4','encryption','사용자\x20또는\x20강좌\x20정보를\x20불러올\x20수\x20없습니다.','stringify','h-12\x20w-12\x20text-muted-foreground\x20animate-spin','STAGE_6_MSE_APPEND:\x20FAIL\x20-\x20','web-offline-v1','3099954tJIGEw','apply','FATAL:\x20Missing\x20manifest\x20path\x20or\x20encryption\x20key\x20ID.','updateend','transaction','col-span-10\x20md:col-span-7\x20bg-black\x20relative\x20flex\x20items-center\x20justify-center\x20aspect-video\x20md:aspect-auto\x20md:min-h-0','font-semibold\x20text-base','AI\x20분석\x20실패','w-full\x20h-full','mr-2\x20h-4\x20w-4\x20animate-spin','data','요약이\x20없습니다.','text-sm\x20text-muted-foreground\x20mt-4\x20break-keep','title','sourceended','utf-8','statusText','bound','createdAt','constructor','세션이\x20성공적으로\x20생성되었습니다.','flex\x20items-end\x20gap-2','userId','저장된\x20책갈피가\x20없습니다.','bookmark','json','batch','[MSE]\x20Video\x20event:\x20waiting\x20(buffering)','watermarkSeed','episode','You\x20are\x20a\x20friendly\x20and\x20helpful\x20Korean\x20AI\x20Tutor.\x20You\x20MUST\x20answer\x20all\x20questions\x20in\x20Korean.\x0a\x20\x20\x20\x20\x20\x20\x20\x20You\x20will\x20be\x20given\x20a\x20full\x20video\x20transcript\x20as\x20context.\x0a\x20\x20\x20\x20\x20\x20\x20\x20The\x20user\x20is\x20currently\x20watching\x20the\x20episode\x20titled\x20\x27','message','11cc26f68318d86d758c190e077c3c6f051ee5b7','read','text','target','p-10\x20text-center\x20text-xs','addSourceBuffer','classifications','useState','Failed\x20to\x20cleanup\x20session\x20','activeSubscriptions','search','[MSE]\x20Event:\x20sourceclose','저장\x20불가','mx-auto\x20animate-spin','jsx','checking','describe','교재\x20정보는\x20현재\x20준비\x20중입니다.','onerror','[MSE]\x20SourceBuffer\x20event:\x20abort','로그인이\x20필요합니다.','status','교재정보','idle','오프라인\x20세그먼트를\x20찾을\x20수\x20없습니다:\x20','jsxs','verifyIdToken','downloading','STAGE_1_PLAY_SESSION:\x20SUCCESS\x20-\x20Session\x20ID:\x20','\x20not\x20found.','FieldValue','오류\x20원인:\x20','1750826jVpcRe','continue','result','content','getTime','사용자,\x20에피소드,\x20강좌\x20ID는\x20필수입니다.','keys','license','1101786HSYqIz','/segments/','AI\x20튜터를\x20사용할\x20수\x20없습니다.\x20(이유:\x20','h-10\x20min-h-0\x20resize-none','Classification\x20','ERROR_USER_NOT_FOUND','h-12\x20w-12\x20text-muted-foreground','text-sm\x20hover:no-underline\x20flex-1\x20p-3\x20justify-between\x20w-full','toMillis','storage','70yyudCj','path','강의목차','STAGE_3_SEGMENT_URL_REQUEST:\x20SUCCESS','저장\x20중...','web-online','arrayBuffer','flex\x20items-center\x20gap-2\x20flex-shrink-0\x20ml-4','bucket','h-12\x20w-12\x20text-destructive','revalidatePath','bg-gray-900\x20text-white\x20font-mono\x20text-xs\x20p-2\x20h-full\x20flex\x20flex-col','fieldId','modules','STAGE_3_SEGMENT_URL_REQUEST:\x20FAIL\x20-\x20','syllabus','flex\x20gap-2\x20items-start','oncomplete','chats','play_sessions','Course\x20','commit','북마크\x20추가\x20실패:\x20','text-xs','description','blocked','북마크\x20메모\x20업데이트\x20실패:\x20','2dd1185d604d01c99921fe07dafdcdad964f5168','FATAL:\x20Offline\x20license\x20expired.','fromMillis','AI\x20분석\x20데이터를\x20불러오는\x20중...','Failed\x20to\x20fetch\x20segment:\x20','application/json','text-xs\x20text-muted-foreground\x20mt-2\x20break-keep\x20max-w-sm\x20p-2\x20bg-destructive/10\x20rounded-md','text-sm\x20font-semibold','readonly','[MSE]\x20SourceBuffer\x20event:\x20update','file','STAGE_1_PLAY_SESSION:\x20START','update','DECRYPT_SEGMENT','justify-start','The\x20ID\x20of\x20the\x20user\x20asking\x20the\x20question.','text-sm\x20text-muted-foreground\x20mt-2\x20break-keep','model','inline\x20w-4\x20h-4\x20mx-1\x20text-muted-foreground','flex\x20flex-1\x20items-center\x20justify-between\x20py-4\x20font-medium\x20transition-all\x20hover:underline\x20[&[data-state=open]>svg]:rotate-180','uid','[MSE]\x20SourceBuffer\x20event:\x20error\x20-\x20','The\x20user\x27s\x20question\x20about\x20the\x20video.','flex-1','debug','Timestamp','doc','signedUrl','AI\x20콘텐츠를\x20보려면\x20로그인이\x20필요합니다.','Codec\x20\x27','에피소드를\x20찾을\x20수\x20없습니다.','URL\x20요청\x20실패\x20(','이동\x20완료','Failed\x20to\x20get\x20signed\x20URL\x20for\x20segment.','비디오\x20재생\x20및\x20관련\x20정보\x20다이얼로그','offlineDerivedKey','font-semibold\x20mt-4','The\x20ID\x20of\x20the\x20video\x20episode\x20being\x20asked\x20about.','AI가\x20답변을\x20생각\x20중입니다...','download','space-y-4\x20p-4\x20pr-6','북마크가\x20삭제되었습니다.','terminate','addEventListener','flex','useRef','replace','STAGE_4_SEGMENT_DOWNLOAD:\x20FAIL\x20-\x20','timestamp','f69bd0e146d955b222e18875e09a68b26e99e61d','videoTutorFlow','mt-0\x20h-full','북마크가\x20성공적으로\x20추가되었습니다.','보안\x20세션\x20시작\x20실패:\x20','Failed\x20to\x20get\x20signed\x20URL\x20for\x20AI\x20content.','createObjectStore','single','completed','STAGE_5_WORKER_DECRYPT:\x20FAIL\x20-\x20','메타데이터\x20저장에\x20실패했습니다:\x20','space-y-2','메타데이터를\x20불러오는\x20데\x20실패했습니다:\x20','Authentication\x20token\x20not\x20available.','flatMap','justify-end','forwardRef','sessionId','mr-2\x20h-4\x20w-4','gemini-2.5-flash','죄송합니다,\x20답변을\x20생성하는\x20중\x20오류가\x20발생했습니다.\x20(오류:\x20','저장\x20실패','6060957InGMLs','Episode\x20with\x20ID\x20','episodeId','courses','Authentication\x20token\x20not\x20found.','error','text-sm\x20p-3\x20rounded-lg\x20max-w-[80%]','pt-4\x20border-t\x20flex\x20gap-2','[MSE]\x20Video\x20event:\x20stalled\x20(network\x20issue)','serverTimestamp','utf8','\x27.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Based\x20ONLY\x20on\x20the\x20provided\x20transcript,\x20answer\x20the\x20user\x27s\x20question.\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20When\x20referencing\x20information,\x20simply\x20state\x20the\x20fact.\x20**Do\x20NOT\x20mention\x20the\x20title\x20of\x20the\x20current\x20video**,\x20as\x20the\x20user\x20is\x20already\x20watching\x20it.\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20If\x20the\x20transcript\x20doesn\x27t\x20contain\x20the\x20answer,\x20you\x20MUST\x20state\x20that\x20the\x20information\x20is\x20not\x20in\x20the\x20provided\x20video\x20and\x20you\x20cannot\x20answer\x20in\x20Korean.\x20Do\x20not\x20use\x20outside\x20knowledge.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Transcript:\x0a\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manifestPath','STAGE_2_MANIFEST_FETCH:\x20START','Cannot\x20find\x20module\x20\x27','length','defineFlow','resolve','question','auth','duration','h-8\x20w-8\x20p-1\x20bg-primary\x20text-white\x20rounded-full','알\x20수\x20없는\x20오류가\x20발생했습니다.','ERROR_VIDEO_NOT_FOUND','key','AI\x20콘텐츠를\x20다운로드하지\x20못했습니다.','toLocaleTimeString','w-full','displayName','STAGE_7_VIDEO_PLAY:\x20SUCCESS\x20-\x20Autoplay\x20started.','users','user','div','derivedKeyB64','default','expiresAt','role','Field\x20','random','pb-4\x20pt-0','h-3\x20w-3\x20animate-spin\x20text-muted-foreground','saving','init','코덱을\x20지원하지\x20않습니다:\x20','success','search_data','collection','8e5a5e16d611d1fd6c224fcb71186a357eede9da','마스터\x20키가\x20없습니다.','(((.+)+)+)+$','flex\x20flex-row\x20h-12\x20items-center\x20justify-between\x20border-b\x20bg-white\x20pl-4\x20pr-12\x20flex-shrink-0\x20relative','5LEJZUu','콘텐츠\x20파싱\x20오류:\x20AI가\x20생성한\x20데이터\x20형식이\x20올바르지\x20않습니다.','ERROR_INVALID_PATH','then','opacity-0\x20group-hover:opacity-100\x20text-destructive\x20h-8\x20w-8','강의검색','textbook','firestore','info','오프라인\x20라이선스가\x20만료되었습니다.','Error\x20calling\x20endOfStream:\x20','updating','mx-auto\x20h-8\x20w-8\x20mb-2','openCursor','code','w-4\x20h-4','exports','p-5\x20text-sm\x20text-muted-foreground','parse','flex\x20items-center\x20text-left\x20w-full','px-3\x20pb-3','overflow-hidden\x20text-sm\x20transition-all\x20data-[state=closed]:animate-accordion-up\x20data-[state=open]:animate-accordion-down','type','all','Could\x20not\x20set\x20MediaSource\x20duration:\x20','space-y-1','timeline','No\x20transcript\x20available.','LlineStreamOffline','lastHeartbeat','사용자\x20ID와\x20북마크\x20ID가\x20필요합니다.','includes','pipeline','DECRYPT_SUCCESS','videos','segments','LIMIT_EXCEEDED','outline','POST','세그먼트를\x20불러오는\x20중\x20오류가\x20발생했습니다:\x20','MODULE_NOT_FOUND','mt-4\x20bg-orange-500\x20hover:bg-orange-600\x20text-white','forEach','[MSE]\x20Event:\x20sourceopen','Close','objectStore','text-sm\x20text-muted-foreground','Segment\x20download\x20failed:\x20','STAGE_3_SEGMENT_URL_REQUEST:\x20START\x20-\x20Path:\x20','잠시\x20후\x20다시\x20시도해주세요.','failed','flex-1\x20flex\x20flex-col\x20min-h-0','ghost','contains','https://picsum.photos/seed/textbook/200/280'];a76_0x59dc=function(){return _0x13d6d7;};return a76_0x59dc();}const a76_0x36f582=(function(){let _0x55af96=!![];return function(_0x5e33ed,_0x2ce76a){const _0x1a5fa4=_0x55af96?function(){const _0x4dfdeb=a76_0x3c6c;if(_0x2ce76a){const _0x3424e5=_0x2ce76a[_0x4dfdeb(0x1b3)](_0x5e33ed,arguments);return _0x2ce76a=null,_0x3424e5;}}:function(){};return _0x55af96=![],_0x1a5fa4;};}()),a76_0x2f9c76=a76_0x36f582(this,function(){const _0x1ff281=a76_0x3c6c;return a76_0x2f9c76[_0x1ff281(0x168)]()[_0x1ff281(0x1dc)](_0x1ff281(0xec))[_0x1ff281(0x168)]()[_0x1ff281(0x1c5)](a76_0x2f9c76)['search'](_0x1ff281(0xec));});a76_0x2f9c76(),(exports['id']=0x1ed8,exports[a76_0x4e4053(0x171)]=[0x1ed8],exports[a76_0x4e4053(0x211)]={0x6b2f:_0x1f83a4=>{const _0x409e3c=a76_0x4e4053;function _0x1c0de8(_0x2ecfc9){const _0x294c62=a76_0x3c6c;var _0x3dea37=Error(_0x294c62(0xc9)+_0x2ecfc9+'\x27');throw _0x3dea37[_0x294c62(0xfc)]='MODULE_NOT_FOUND',_0x3dea37;}_0x1c0de8['keys']=()=>[],_0x1c0de8[_0x409e3c(0xcc)]=_0x1c0de8,_0x1c0de8['id']=0x6b2f,_0x1f83a4[_0x409e3c(0xfe)]=_0x1c0de8;},0xac5f:_0x4488a9=>{const _0x48bbff=a76_0x4e4053;function _0x5a37ec(_0x464ae3){const _0x5ce06b=a76_0x3c6c;var _0x572194=Error(_0x5ce06b(0xc9)+_0x464ae3+'\x27');throw _0x572194[_0x5ce06b(0xfc)]=_0x5ce06b(0x116),_0x572194;}_0x5a37ec[_0x48bbff(0x1f8)]=()=>[],_0x5a37ec['resolve']=_0x5a37ec,_0x5a37ec['id']=0xac5f,_0x4488a9['exports']=_0x5a37ec;},0x184e6:(_0x363adc,_0x199049,_0x41cb39)=>{'use strict';const _0x39a793=a76_0x4e4053;_0x41cb39['d'](_0x199049,{'Z':()=>_0x647f9f});var _0x3a3795=_0x41cb39(0x2856),_0x5b482a=_0x41cb39(0x44a9),_0x1b94c8=_0x41cb39['n'](_0x5b482a),_0x5f177d=_0x41cb39(0x16610),_0x1fb75a=_0x41cb39(0x151a5),_0x480358=_0x41cb39(0x1405f),_0xa715ae=_0x41cb39(0xb417),_0x35fb54=_0x41cb39(0x16e1),_0x36111a=_0x41cb39(0x15832),_0x7b8646=_0x41cb39(0x18e4),_0x5185e9=_0x41cb39(0x1d52),_0x104a8d=_0x41cb39(0xa80e),_0x354dfd=_0x41cb39(0x11bdd),_0x59205d=_0x41cb39(0xc748),_0x29656f=_0x41cb39(0xa63c),_0x4a99b2=_0x41cb39(0x90dc),_0x281253=_0x41cb39(0x183dc),_0x1c6f46=_0x41cb39(0x3822),_0xee01f=_0x41cb39(0xa80c),_0x481250=_0x41cb39(0x12d10),_0x5b7717=_0x41cb39(0xca4);_0x41cb39(0x3c40);var _0x54f2f2=_0x41cb39(0xb4a2),_0x4cf816=(0x0,_0x54f2f2['$'])(_0x39a793(0xea)),_0x28e221=_0x41cb39(0xc817),_0x3d365=_0x41cb39(0xb967),_0x4803fe=_0x41cb39(0xc4d0),_0x5286be=_0x41cb39(0xdcec),_0x12a5af=_0x41cb39(0x4c),_0x4c7910=_0x41cb39(0x5e36),_0xdeb09b=_0x41cb39(0xb492),_0x5ec825=_0x41cb39(0x14881),_0x47759a=_0x41cb39(0x4af1),_0x592b4a=_0x41cb39(0xa0e6),_0x52f75c=_0x41cb39(0x1106c),_0x59535b=_0x41cb39(0x17a28),_0x5eded2=(0x0,_0x54f2f2['$'])(_0x39a793(0x18a));(0x0,_0x54f2f2['$'])('f69bd0e146d955b222e18875e09a68b26e99e61d'),(0x0,_0x54f2f2['$'])('783e3fffc62d584389c1934bab17d0b4e76544c7');let _0x16aea6=({downloadState:_0x2d2ff2,onDownload:_0x2ff0e8,reasonDisabled:_0xbeb7cb})=>{const _0x461f88=_0x39a793;switch(_0x2d2ff2){case _0x461f88(0x1e1):case _0x461f88(0x1ed):case _0x461f88(0xe4):return(0x0,_0x3a3795[_0x461f88(0x1eb)])(_0x5f177d['z'],{'variant':'outline','disabled':!0x0,'children':[_0x3a3795[_0x461f88(0x1e0)](_0xa715ae['Z'],{'className':_0x461f88(0x1bb)}),_0x461f88(0x1e1)===_0x2d2ff2&&_0x461f88(0x1a0),_0x461f88(0x1ed)===_0x2d2ff2&&'다운로드\x20중...',_0x461f88(0xe4)===_0x2d2ff2&&_0x461f88(0x208)]});case _0x461f88(0x258):return(0x0,_0x3a3795[_0x461f88(0x1eb)])(_0x5f177d['z'],{'variant':'outline','disabled':!0x0,'children':[_0x3a3795[_0x461f88(0x1e0)](_0x35fb54['Z'],{'className':_0x461f88(0x160)}),_0x461f88(0x17d)]});case _0x461f88(0x14a):return(0x0,_0x3a3795[_0x461f88(0x1eb)])(_0x5f177d['z'],{'variant':_0x461f88(0x113),'disabled':!0x0,'title':_0xbeb7cb,'children':[_0x3a3795[_0x461f88(0x1e0)](_0x36111a['Z'],{'className':'mr-2\x20h-4\x20w-4\x20text-yellow-500'}),_0x461f88(0x1de)]});case _0x461f88(0x26b):return(0x0,_0x3a3795[_0x461f88(0x1eb)])(_0x5f177d['z'],{'variant':'destructive','onClick':_0x2ff0e8,'children':[_0x3a3795[_0x461f88(0x1e0)](_0x7b8646['Z'],{'className':_0x461f88(0x262)}),_0x461f88(0x127)]});default:return(0x0,_0x3a3795[_0x461f88(0x1eb)])(_0x5f177d['z'],{'variant':_0x461f88(0x113),'onClick':_0x2ff0e8,'children':[_0x3a3795[_0x461f88(0x1e0)](_0x5185e9['Z'],{'className':_0x461f88(0x262)}),_0x461f88(0x19b)]});}},_0x33404f=({episode:_0x7cf47f,onSeek:_0x4af1c3,offlineVideoData:_0x25cfd6})=>{const _0x43633e=_0x39a793;let {authUser:_0x837d76}=(0x0,_0x1fb75a['aF'])(),[_0x44660c,_0x2b5abc]=_0x1b94c8()[_0x43633e(0x1d9)](_0x25cfd6?.[_0x43633e(0x164)]||null),[_0x3501ba,_0x4c0bd4]=_0x1b94c8()['useState'](!_0x25cfd6?.[_0x43633e(0x164)]),[_0x524f4e,_0x3bf170]=_0x1b94c8()['useState'](null);if(_0x1b94c8()[_0x43633e(0x133)](()=>{const _0x4280d9=_0x43633e;if(_0x25cfd6?.[_0x4280d9(0x164)]){_0x2b5abc(_0x25cfd6[_0x4280d9(0x164)]),_0x4c0bd4(!0x1);return;}((async()=>{const _0x49c016=_0x4280d9;if('completed'!==_0x7cf47f['ai'][_0x49c016(0x1e7)]||!_0x7cf47f['ai']['resultPaths']?.[_0x49c016(0xe8)]){_0x4c0bd4(!0x1);return;}if(!_0x837d76){_0x4c0bd4(!0x1),_0x3bf170(_0x49c016(0x23b));return;}_0x4c0bd4(!0x0),_0x3bf170(null);try{let _0x40031b=await _0x837d76['getIdToken'](),_0x13a9b8=_0x7cf47f['ai'][_0x49c016(0x136)][_0x49c016(0xe8)];if(!_0x13a9b8)throw Error(_0x49c016(0x16e));let {signedUrl:_0xc0d983,error:_0x42e003}=await(0x0,_0x59535b['e'])(_0x40031b,_0x7cf47f['id'],_0x13a9b8);if(_0x42e003||!_0xc0d983)throw Error(_0x42e003||'AI\x20콘텐츠\x20접근\x20URL\x20생성에\x20실패했습니다.');let _0x2cd9aa=await fetch(_0xc0d983);if(!_0x2cd9aa['ok'])throw Error(_0x49c016(0xd4));let _0x4d467e=await _0x2cd9aa[_0x49c016(0x1cb)]();_0x2b5abc(_0x4d467e);}catch(_0x3266ef){_0x3bf170(_0x3266ef[_0x49c016(0x1d1)]||'AI\x20콘텐츠를\x20불러오는\x20중\x20오류가\x20발생했습니다.'),_0x2b5abc(null);}finally{_0x4c0bd4(!0x1);}})());},[_0x7cf47f['id'],_0x7cf47f['ai'][_0x43633e(0x1e7)],_0x7cf47f['ai'][_0x43633e(0x136)]?.[_0x43633e(0xe8)],_0x837d76,_0x25cfd6]),_0x3501ba)return(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':_0x43633e(0x146),'children':[_0x3a3795[_0x43633e(0x1e0)](_0xa715ae['Z'],{'className':_0x43633e(0x1af)}),_0x3a3795[_0x43633e(0x1e0)]('p',{'className':'text-sm\x20text-muted-foreground\x20mt-4','children':_0x43633e(0x222)})]});if(_0x524f4e)return(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':_0x43633e(0x146),'children':[_0x3a3795[_0x43633e(0x1e0)](_0x36111a['Z'],{'className':_0x43633e(0x20d)}),_0x3a3795[_0x43633e(0x1e0)]('p',{'className':_0x43633e(0x243),'children':_0x43633e(0x13b)}),_0x3a3795[_0x43633e(0x1e0)]('p',{'className':_0x43633e(0x22f),'children':_0x524f4e})]});if(_0x43633e(0x120)===_0x7cf47f['ai'][_0x43633e(0x1e7)])return(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':'flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20p-4','children':[_0x3a3795[_0x43633e(0x1e0)](_0x36111a['Z'],{'className':'h-12\x20w-12\x20text-destructive'}),_0x3a3795['jsx']('p',{'className':_0x43633e(0x243),'children':_0x43633e(0x1b9)}),_0x3a3795['jsx']('p',{'className':_0x43633e(0x22f),'children':'강의\x20요약\x20및\x20타임라인을\x20생성하지\x20못했습니다.'}),_0x7cf47f['ai'][_0x43633e(0x26b)]?.['message']&&(0x0,_0x3a3795[_0x43633e(0x1eb)])('p',{'className':_0x43633e(0x225),'children':[_0x43633e(0x1f1),_0x7cf47f['ai'][_0x43633e(0x26b)][_0x43633e(0x1d1)]]}),_0x3a3795[_0x43633e(0x1e0)]('p',{'className':'text-xs\x20text-muted-foreground\x20mt-4\x20break-keep','children':_0x43633e(0x140)})]});if(!_0x44660c)return(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':'flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20p-4','children':[_0x3a3795['jsx'](_0x104a8d['Z'],{'className':_0x43633e(0x200)}),(0x0,_0x3a3795[_0x43633e(0x1eb)])('p',{'className':_0x43633e(0x1be),'children':[_0x43633e(0x151),_0x3a3795[_0x43633e(0x1e0)]('br',{}),_0x43633e(0x11f)]})]});try{let _0x58e618=_0x31b73c=>{const _0xf6052=_0x43633e;if(!_0x31b73c)return 0x0;let _0xeccce4=_0x31b73c[_0xf6052(0x1a3)](':')[_0xf6052(0x196)](_0x268dff=>parseFloat(_0x268dff[_0xf6052(0x24d)](',','.')));return 0x3===_0xeccce4[_0xf6052(0xca)]?0xe10*_0xeccce4[0x0]+0x3c*_0xeccce4[0x1]+_0xeccce4[0x2]:0x0;};return(0x0,_0x3a3795[_0x43633e(0x1eb)])('div',{'className':_0x43633e(0x247),'children':[(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':_0x43633e(0x107),'children':[_0x3a3795['jsx']('h4',{'className':_0x43633e(0x1b8),'children':'강의\x20요약'}),_0x3a3795[_0x43633e(0x1e0)]('p',{'className':'text-sm\x20text-foreground\x20whitespace-pre-line\x20break-keep\x20[word-break:keep-all]','children':_0x44660c[_0x43633e(0x1a8)]||_0x43633e(0x1bd)})]}),_0x44660c[_0x43633e(0x108)]&&_0x44660c['timeline'][_0x43633e(0xca)]>0x0&&(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0xdb),{'className':_0x43633e(0x25b),'children':[(0x0,_0x3a3795[_0x43633e(0x1eb)])('h4',{'className':'font-semibold\x20flex\x20items-center\x20gap-2\x20text-base','children':[_0x3a3795[_0x43633e(0x1e0)](_0x354dfd['Z'],{'className':_0x43633e(0xfd)}),_0x43633e(0x1a6)]}),_0x3a3795['jsx'](_0x5286be['UQ'],{'type':_0x43633e(0x257),'collapsible':!0x0,'className':_0x43633e(0xd6),'children':_0x44660c[_0x43633e(0x108)][_0x43633e(0x196)]((_0x43edd9,_0x59e118)=>(0x0,_0x3a3795['jsxs'])(_0x5286be['Qd'],{'value':'item-'+_0x59e118,'className':_0x43633e(0x14c),'children':[_0x3a3795[_0x43633e(0x1e0)](_0x5286be['o4'],{'className':_0x43633e(0x201),'children':(0x0,_0x3a3795[_0x43633e(0x1eb)])(_0x43633e(0x1aa),{'className':_0x43633e(0x101),'children':[_0x3a3795['jsx'](_0x43633e(0x1aa),{'role':'button','tabIndex':0x0,'className':_0x43633e(0x154),'onClick':_0x15ec4a=>{const _0x2d7a07=_0x43633e;_0x15ec4a[_0x2d7a07(0x158)](),_0x4af1c3(_0x58e618(_0x43edd9[_0x2d7a07(0x132)]));},'onKeyDown':_0xd8775d=>{const _0x1dd5f9=_0x43633e;('Enter'===_0xd8775d[_0x1dd5f9(0xd3)]||'\x20'===_0xd8775d[_0x1dd5f9(0xd3)])&&(_0xd8775d[_0x1dd5f9(0x158)](),_0x4af1c3(_0x58e618(_0x43edd9[_0x1dd5f9(0x132)])));},'children':_0x43edd9[_0x43633e(0x132)]?.[_0x43633e(0x1a3)]('.')[0x0]||'00:00:00'}),_0x3a3795[_0x43633e(0x1e0)](_0x43633e(0x1aa),{'className':'whitespace-normal\x20break-keep\x20text-left\x20flex-1\x20pl-2','children':_0x43edd9['subtitle']})]})}),_0x3a3795[_0x43633e(0x1e0)](_0x5286be['vF'],{'className':_0x43633e(0x102),'children':_0x3a3795['jsx']('p',{'className':_0x43633e(0x194),'children':_0x43edd9[_0x43633e(0x21c)]})})]},_0x59e118))})]})]});}catch(_0x7deb8b){return _0x3a3795[_0x43633e(0x1e0)](_0x43633e(0xdb),{'className':_0x43633e(0xff),'children':_0x43633e(0xef)});}},_0x19b958=({episode:_0x4e6aec,user:_0x5538a3})=>{const _0x4df8d3=_0x39a793;let _0x21ef1e=(0x0,_0x1fb75a['CU'])(),[_0x43533b,_0x4c9ec5]=_0x1b94c8()[_0x4df8d3(0x1a2)](),[_0x293bc4,_0x9bc6d6]=_0x1b94c8()[_0x4df8d3(0x1d9)](''),[_0x10fbef,_0x4b266a]=_0x1b94c8()[_0x4df8d3(0x1d9)]([]),[_0xa38c31,_0x217405]=_0x1b94c8()[_0x4df8d3(0x1d9)](!0x0),[_0x55cc38,_0x2d36d9]=_0x1b94c8()[_0x4df8d3(0x1d9)](null),_0x29579e='completed'===_0x4e6aec['ai'][_0x4df8d3(0x1e7)];return _0x1b94c8()[_0x4df8d3(0x133)](()=>{const _0x444e36=_0x4df8d3;if(!_0x5538a3||!_0x21ef1e)return;_0x217405(!0x0),_0x2d36d9(null);let _0x5aa83f=(0x0,_0x12a5af['IO'])((0x0,_0x12a5af['hJ'])(_0x21ef1e,'users',_0x5538a3['id'],_0x444e36(0x216)),(0x0,_0x12a5af['ar'])(_0x444e36(0x268),'==',_0x4e6aec['id']),(0x0,_0x12a5af['Xo'])(_0x444e36(0x1c4),_0x444e36(0x145)));return(0x0,_0x12a5af['cf'])(_0x5aa83f,_0x38dfc7=>{const _0x4b060c=_0x444e36;_0x4b266a(_0x38dfc7['docs'][_0x4b060c(0x196)](_0x41d165=>_0x41d165[_0x4b060c(0x1bc)]())[_0x4b060c(0x25e)](_0x2d2c9f=>{const _0x3be96d=_0x4b060c;let _0x5e0f0e=_0x2d2c9f['createdAt']?.[_0x3be96d(0x19d)]()||new Date();return[{'id':_0x2d2c9f['id']+'-q','role':_0x3be96d(0xda),'content':_0x2d2c9f[_0x3be96d(0xcd)],'createdAt':_0x5e0f0e},{'id':_0x2d2c9f['id']+'-a','role':_0x3be96d(0x230),'content':_0x2d2c9f['answer'],'createdAt':new Date(_0x5e0f0e[_0x3be96d(0x1f6)]()+0x1)}];})),_0x217405(!0x1),_0x2d36d9(null);},_0x18534a=>{const _0xe67225=_0x444e36;_0x2d36d9(_0xe67225(0x17a)),_0x217405(!0x1);});},[_0x5538a3,_0x4e6aec['id'],_0x21ef1e]),(0x0,_0x3a3795[_0x4df8d3(0x1eb)])(_0x4df8d3(0xdb),{'className':_0x4df8d3(0x19e),'children':[_0x3a3795[_0x4df8d3(0x1e0)](_0x5b7717['x'],{'className':_0x4df8d3(0x152),'children':(0x0,_0x3a3795['jsxs'])(_0x4df8d3(0xdb),{'className':'space-y-4','children':[_0x55cc38?(0x0,_0x3a3795[_0x4df8d3(0x1eb)])(_0x4df8d3(0xdb),{'className':_0x4df8d3(0x148),'children':[_0x3a3795['jsx'](_0x36111a['Z'],{'className':_0x4df8d3(0xfa)}),_0x3a3795[_0x4df8d3(0x1e0)]('p',{'className':_0x4df8d3(0x226),'children':_0x55cc38})]}):_0xa38c31?_0x3a3795['jsx']('div',{'className':'text-center\x20text-muted-foreground\x20p-4','children':_0x3a3795['jsx'](_0xa715ae['Z'],{'className':_0x4df8d3(0x131)})}):_0x10fbef[_0x4df8d3(0x196)](_0x5de567=>(0x0,_0x3a3795['jsxs'])(_0x4df8d3(0xdb),{'className':(0x0,_0x28e221['cn'])(_0x4df8d3(0x1c7),'user'===_0x5de567[_0x4df8d3(0xdf)]?_0x4df8d3(0x25f):_0x4df8d3(0x22d)),'children':[_0x4df8d3(0x230)===_0x5de567['role']&&_0x3a3795[_0x4df8d3(0x1e0)](_0x59205d['Z'],{'className':_0x4df8d3(0xd0)}),_0x3a3795[_0x4df8d3(0x1e0)]('p',{'className':(0x0,_0x28e221['cn'])(_0x4df8d3(0x26c),_0x4df8d3(0xda)===_0x5de567[_0x4df8d3(0xdf)]?_0x4df8d3(0x1a5):'bg-white\x20border'),'children':_0x5de567[_0x4df8d3(0x1f5)]})]},_0x5de567['id'])),_0x43533b&&_0x3a3795[_0x4df8d3(0x1e0)](_0x4df8d3(0xdb),{'className':'text-xs\x20text-muted-foreground\x20animate-pulse','children':_0x4df8d3(0x245)})]})}),(0x0,_0x3a3795[_0x4df8d3(0x1eb)])(_0x4df8d3(0xdb),{'className':_0x4df8d3(0x26d),'children':[_0x3a3795[_0x4df8d3(0x1e0)](_0x480358['g'],{'value':_0x293bc4,'onChange':_0x507faa=>_0x9bc6d6(_0x507faa['target']['value']),'disabled':!_0x29579e||!!_0x55cc38,'className':_0x4df8d3(0x1fd),'placeholder':_0x29579e?_0x4df8d3(0x139):_0x4df8d3(0x179)}),_0x3a3795['jsx'](_0x5f177d['z'],{'onClick':()=>{const _0x2f4744=_0x4df8d3;if(!_0x293bc4['trim']()||_0x43533b)return;let _0x160adc=_0x293bc4[_0x2f4744(0x197)]();_0x4b266a(_0x416933=>[..._0x416933,{'id':(0x0,_0x3d365['Z'])(),'role':_0x2f4744(0xda),'content':_0x160adc,'createdAt':new Date()}]),_0x9bc6d6(''),_0x4c9ec5(async()=>{const _0x43af90=_0x2f4744;try{await _0x4cf816({'episodeId':_0x4e6aec['id'],'question':_0x160adc,'userId':_0x5538a3['id']});}catch{_0x4b266a(_0x49ece0=>[..._0x49ece0,{'id':(0x0,_0x3d365['Z'])(),'role':_0x43af90(0x230),'content':_0x43af90(0x16d),'createdAt':new Date()}]);}});},'disabled':_0x43533b||!_0x29579e||!!_0x55cc38,'children':_0x3a3795[_0x4df8d3(0x1e0)](_0x29656f['Z'],{'className':_0x4df8d3(0xfd)})})]})]});},_0x22143c=()=>(0x0,_0x3a3795[_0x39a793(0x1eb)])(_0x39a793(0xdb),{'className':'h-full\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-10\x20text-center','children':[_0x3a3795[_0x39a793(0x1e0)](_0xdeb09b[_0x39a793(0xdd)],{'src':_0x39a793(0x124),'width':0x96,'height':0xd2,'alt':'교재','className':_0x39a793(0x1ab)}),_0x3a3795[_0x39a793(0x1e0)]('p',{'className':_0x39a793(0x11c),'children':_0x39a793(0x1e3)}),_0x3a3795[_0x39a793(0x1e0)](_0x5f177d['z'],{'className':_0x39a793(0x117),'children':'교재\x20구매하기'})]}),_0x3bd463=({bookmark:_0x5706fc,onSeek:_0x405946,onDelete:_0x470c23})=>{const _0x4f71eb=_0x39a793;let {user:_0x3694c0}=(0x0,_0x1fb75a['aF'])(),[_0x1439dd,_0xdf77f6]=_0x1b94c8()[_0x4f71eb(0x1d9)](_0x5706fc[_0x4f71eb(0x128)]||''),[_0x2dbdef,_0x27959f]=_0x1b94c8()[_0x4f71eb(0x1d9)](!0x1),_0x6182f9=_0x1b94c8()[_0x4f71eb(0x24c)](null);return(0x0,_0x3a3795['jsxs'])('li',{'className':'group\x20flex\x20items-center\x20gap-2\x20p-2\x20bg-white\x20rounded-md\x20border','children':[(0x0,_0x3a3795[_0x4f71eb(0x1eb)])(_0x5f177d['z'],{'variant':_0x4f71eb(0x122),'onClick':()=>_0x405946(_0x5706fc[_0x4f71eb(0x24f)]),'className':_0x4f71eb(0x16f),'children':['[',(0x0,_0x28e221['LU'])(_0x5706fc['timestamp']),']']}),_0x3a3795[_0x4f71eb(0x1e0)](_0x592b4a['I'],{'value':_0x1439dd,'onChange':_0x5c29ab=>{const _0x4865a3=_0x4f71eb;let _0x4bd295=_0x5c29ab[_0x4865a3(0x1d5)][_0x4865a3(0x18b)];_0xdf77f6(_0x4bd295),_0x27959f(!0x0),_0x6182f9[_0x4865a3(0x147)]&&clearTimeout(_0x6182f9[_0x4865a3(0x147)]),_0x6182f9[_0x4865a3(0x147)]=setTimeout(async()=>{_0x3694c0&&await(0x0,_0x47759a['t3'])({'userId':_0x3694c0['id'],'bookmarkId':_0x5706fc['id'],'note':_0x4bd295}),_0x27959f(!0x1);},0x5dc);},'className':_0x4f71eb(0x14e),'placeholder':'메모\x20입력...'}),_0x2dbdef&&_0x3a3795[_0x4f71eb(0x1e0)](_0xa715ae['Z'],{'className':_0x4f71eb(0xe3)}),_0x3a3795[_0x4f71eb(0x1e0)](_0x5f177d['z'],{'variant':_0x4f71eb(0x122),'size':_0x4f71eb(0x165),'onClick':()=>_0x470c23(_0x5706fc['id']),'className':_0x4f71eb(0xf2),'children':_0x3a3795[_0x4f71eb(0x1e0)](_0x4a99b2['Z'],{'className':_0x4f71eb(0x12a)})})]});},_0x3fb834=({episode:_0x5513bc,user:_0x5c7c93,videoElement:_0x5ee198})=>{const _0x1a1e20=_0x39a793;let _0x43d6a2=(0x0,_0x1fb75a['CU'])(),{toast:_0x3db210}=(0x0,_0x5ec825['pm'])(),_0x2a90ef=(0x0,_0x1fb75a['sx'])(()=>_0x5c7c93&&_0x43d6a2?(0x0,_0x12a5af['IO'])((0x0,_0x12a5af['hJ'])(_0x43d6a2,_0x1a1e20(0xd9),_0x5c7c93['id'],_0x1a1e20(0x157)),(0x0,_0x12a5af['ar'])(_0x1a1e20(0x268),'==',_0x5513bc['id']),(0x0,_0x12a5af['Xo'])(_0x1a1e20(0x24f),_0x1a1e20(0x145))):null,[_0x5c7c93,_0x5513bc['id']]),{data:_0x269ed5,isLoading:_0x5686fd}=(0x0,_0x1fb75a['Kx'])(_0x2a90ef),_0x4dd4bb=async()=>{const _0x11ed74=_0x1a1e20;if(!_0x5ee198||!_0x5c7c93)return;let _0x278a53=Math[_0x11ed74(0x17e)](_0x5ee198[_0x11ed74(0x141)]);(await(0x0,_0x47759a['Rl'])({'userId':_0x5c7c93['id'],'episodeId':_0x5513bc['id'],'courseId':_0x5513bc[_0x11ed74(0x170)],'timestamp':_0x278a53,'note':''}))['success']&&_0x3db210({'title':_0x11ed74(0x144)});};return(0x0,_0x3a3795[_0x1a1e20(0x1eb)])(_0x1a1e20(0xdb),{'className':'p-4\x20space-y-4','children':[(0x0,_0x3a3795[_0x1a1e20(0x1eb)])(_0x5f177d['z'],{'className':_0x1a1e20(0x1a4),'onClick':_0x4dd4bb,'children':[_0x3a3795['jsx'](_0x281253['Z'],{'className':'w-4\x20h-4\x20mr-2'}),'\x20현재\x20시간\x20책갈피']}),_0x5686fd?_0x3a3795[_0x1a1e20(0x1e0)](_0xa715ae['Z'],{'className':_0x1a1e20(0x1df)}):(0x0,_0x3a3795[_0x1a1e20(0x1eb)])('ul',{'className':_0x1a1e20(0x25b),'children':[_0x269ed5?.['map'](_0x4c44e4=>_0x3a3795[_0x1a1e20(0x1e0)](_0x3bd463,{'bookmark':_0x4c44e4,'onSeek':_0x415ee7=>{const _0x42f204=_0x1a1e20;_0x5ee198&&(_0x5ee198[_0x42f204(0x141)]=_0x415ee7);},'onDelete':_0x121282=>_0x47759a['Tc'](_0x5c7c93['id'],_0x121282)},_0x4c44e4['id'])),_0x269ed5?.['length']===0x0&&_0x3a3795[_0x1a1e20(0x1e0)]('p',{'className':'text-center\x20text-xs\x20text-muted-foreground\x20pt-4','children':_0x1a1e20(0x1c9)})]})]});},_0x55be75=({logs:_0xd90e20})=>{const _0x468204=_0x39a793;let _0x226277=_0x1b94c8()[_0x468204(0x24c)](null);return _0x1b94c8()['useEffect'](()=>{const _0x4cb7cf=_0x468204;_0x226277[_0x4cb7cf(0x147)]&&(_0x226277[_0x4cb7cf(0x147)][_0x4cb7cf(0x134)]=_0x226277[_0x4cb7cf(0x147)]['scrollHeight']);},[_0xd90e20]),(0x0,_0x3a3795['jsxs'])(_0x468204(0xdb),{'className':_0x468204(0x20f),'children':[_0x3a3795['jsx'](_0x468204(0xdb),{'className':_0x468204(0x13d),'children':_0x468204(0x130)}),_0x3a3795[_0x468204(0x1e0)](_0x5b7717['x'],{'className':_0x468204(0x236),'viewportRef':_0x226277,'children':_0x3a3795[_0x468204(0x1e0)](_0x468204(0xdb),{'className':_0x468204(0x15f),'children':_0xd90e20['map']((_0x449be7,_0x48eea4)=>(0x0,_0x3a3795[_0x468204(0x1eb)])(_0x468204(0xdb),{'className':_0x468204(0x214),'children':[_0x3a3795[_0x468204(0x1e0)](_0x468204(0x1aa),{'className':_0x468204(0x161),'children':_0x449be7[_0x468204(0x24f)][_0x468204(0xd5)]()}),_0x3a3795[_0x468204(0x1e0)](_0x468204(0x1aa),{'className':(0x0,_0x28e221['cn'])({'text-green-400':_0x468204(0xe7)===_0x449be7[_0x468204(0x104)],'text-red-400':'error'===_0x449be7[_0x468204(0x104)]}),'children':'success'===_0x449be7[_0x468204(0x104)]?'✅':_0x468204(0x26b)===_0x449be7[_0x468204(0x104)]?'❌':'ℹ️'}),_0x3a3795[_0x468204(0x1e0)]('p',{'className':_0x468204(0x185),'children':_0x449be7['message']})]},_0x48eea4))})})]});},_0x1c1440=({seed:_0x7739ca})=>{const _0x487893=_0x39a793;let [_0x6128dc,_0x400340]=_0x1b94c8()[_0x487893(0x1d9)]([]);return(_0x1b94c8()['useEffect'](()=>{const _0x2419bf=_0x487893;_0x7739ca&&_0x400340(Array['from']({'length':0x5})[_0x2419bf(0x196)](()=>({'top':0x50*Math[_0x2419bf(0xe1)]()+0xa+'%','left':0x50*Math['random']()+0xa+'%'})));},[_0x7739ca]),_0x7739ca)?_0x3a3795[_0x487893(0x1e0)]('div',{'className':'absolute\x20inset-0\x20pointer-events-none\x20overflow-hidden\x20z-10','children':_0x6128dc[_0x487893(0x196)]((_0xf00ed8,_0x135c59)=>_0x3a3795[_0x487893(0x1e0)](_0x487893(0x1aa),{'className':'absolute\x20text-white/10\x20text-xs','style':{..._0xf00ed8,'transform':_0x487893(0x15c)},'children':_0x7739ca},_0x135c59))}):null;};function _0x647f9f({isOpen:_0x40c580,onOpenChange:_0xbcc187,episode:_0x3b4ebf,instructor:_0x475513,offlineVideoData:_0x615776}){const _0x2cf9d0=_0x39a793;let {user:_0x3fda84,authUser:_0x51c1f1}=(0x0,_0x1fb75a['aF'])(),{toast:_0x5b5319}=(0x0,_0x5ec825['pm'])(),_0x14395d=(0x0,_0x1fb75a['CU'])(),[_0x37fbfd,_0x49bfdd]=_0x1b94c8()[_0x2cf9d0(0x1d9)]([]),[_0x3e97bf,_0x1ff4de]=_0x1b94c8()['useState'](null),[_0x442373,_0x533f63]=_0x1b94c8()['useState'](null),[_0x24e027,_0x17cec3]=_0x1b94c8()[_0x2cf9d0(0x1d9)](_0x2cf9d0(0x1e9)),[_0x2c795f,_0x5eccf3]=_0x1b94c8()[_0x2cf9d0(0x1d9)](),_0x14f45f=_0x1b94c8()[_0x2cf9d0(0x24c)](null),_0x12b526=_0x1b94c8()[_0x2cf9d0(0x24c)](null),_0x37b0a4=_0x1b94c8()['useRef'](null),_0x5949fd=_0x1b94c8()[_0x2cf9d0(0x24c)](null),_0x53110a=_0x1b94c8()['useRef'](null),_0x5a5ceb=_0x1b94c8()['useRef']([]),_0x1343b7=_0x1b94c8()['useRef'](0x0),_0x5d61e1=_0x1b94c8()[_0x2cf9d0(0x24c)](null),_0x5ee072=_0x1b94c8()[_0x2cf9d0(0x24c)](null),_0x30ffa7=(0x0,_0x1fb75a['sx'])(()=>_0x14395d?(0x0,_0x12a5af['JU'])(_0x14395d,_0x2cf9d0(0x269),_0x3b4ebf[_0x2cf9d0(0x170)]):null,[_0x14395d,_0x3b4ebf[_0x2cf9d0(0x170)]]),{data:_0x1c2aa0}=(0x0,_0x1fb75a['kh'])(_0x30ffa7),_0x200f28=_0x1b94c8()[_0x2cf9d0(0x18e)]((_0x407336,_0x5f0ebc=_0x2cf9d0(0xf6))=>{_0x49bfdd(_0x3ecb2b=>[..._0x3ecb2b,{'message':_0x407336,'type':_0x5f0ebc,'timestamp':new Date()}]);},[]),_0x50f40a=_0x1b94c8()[_0x2cf9d0(0x18e)](async()=>{const _0x56b152=_0x2cf9d0;if(!_0x51c1f1||!_0x1c2aa0){_0x5eccf3(_0x56b152(0x1ad)),_0x17cec3('forbidden');return;}_0x17cec3(_0x56b152(0x1e1));try{let _0x38f6fa=await _0x51c1f1[_0x56b152(0x15e)](),_0x3e1697=await fetch(_0x56b152(0x12f),{'method':_0x56b152(0x114),'headers':{'Content-Type':_0x56b152(0x224),'Authorization':'Bearer\x20'+_0x38f6fa},'body':JSON[_0x56b152(0x1ae)]({'videoId':_0x3b4ebf['id'],'deviceId':_0x56b152(0x1b1)})});if(!_0x3e1697['ok']){let {error:_0x5eed96}=await _0x3e1697[_0x56b152(0x1cb)]();throw Error(_0x5eed96||_0x56b152(0x172));}let _0x21cae=await _0x3e1697['json']();_0x17cec3('downloading');let _0x2cfc09=await(0x0,_0x59535b['e'])(_0x38f6fa,_0x3b4ebf['id'],_0x3b4ebf['storage'][_0x56b152(0x272)]);if(_0x2cfc09[_0x56b152(0x26b)])throw Error(_0x2cfc09['error']);let _0x50de1f=await(await fetch(_0x2cfc09[_0x56b152(0x23a)]))[_0x56b152(0x1cb)]();_0x17cec3(_0x56b152(0xe4));let _0x2b6056={'episode':_0x3b4ebf,'courseName':_0x1c2aa0['name'],'downloadedAt':new Date(),'license':_0x21cae,'manifest':_0x50de1f,'segments':new Map()};await(0x0,_0x52f75c['$V'])(_0x2b6056),_0x17cec3(_0x56b152(0x258)),_0x5b5319({'title':_0x56b152(0x17d),'description':'\x27'+_0x3b4ebf[_0x56b152(0x1bf)]+_0x56b152(0x15b)});}catch(_0x123cd2){_0x17cec3('error'),_0x5eccf3(_0x123cd2['message']),_0x5b5319({'variant':'destructive','title':_0x56b152(0x265),'description':_0x123cd2[_0x56b152(0x1d1)]});}},[_0x51c1f1,_0x1c2aa0,_0x3b4ebf,_0x5b5319]),_0x1ae9fe=async(_0x4e8a87,_0x53c538,_0x5bbfdb)=>{const _0x5bc7db=_0x2cf9d0;_0x200f28(_0x5bc7db(0x11e)+_0x5bbfdb);let {signedUrl:_0x664058,error:_0x564feb}=await(0x0,_0x59535b['e'])(_0x4e8a87,_0x53c538,_0x5bbfdb);if(_0x564feb||!_0x664058){let _0x23dc30=_0x5bc7db(0x23e)+_0x5bbfdb+_0x5bc7db(0x14b)+(_0x564feb||_0x5bc7db(0x12e));throw _0x200f28(_0x5bc7db(0x212)+_0x23dc30,'error'),Error(_0x23dc30);}return _0x200f28(_0x5bc7db(0x207),_0x5bc7db(0xe7)),_0x664058;},_0x289d27=_0x1b94c8()['useCallback'](()=>{const _0x3229af=_0x2cf9d0;_0x5ee072['current']&&clearInterval(_0x5ee072[_0x3229af(0x147)]),_0x3e97bf&&_0x5eded2(_0x3e97bf),_0x12b526['current']?.[_0x3229af(0x249)](),_0x12b526[_0x3229af(0x147)]=null,_0x53110a[_0x3229af(0x147)]=null,_0x5d61e1[_0x3229af(0x147)]=null;let _0x1cdf02=_0x14f45f[_0x3229af(0x147)];if(_0x1cdf02&&_0x1cdf02[_0x3229af(0x18f)])try{URL[_0x3229af(0x193)](_0x1cdf02['src']),_0x1cdf02['removeAttribute'](_0x3229af(0x18f)),_0x1cdf02[_0x3229af(0x142)]();}catch(_0x183593){}_0x37b0a4[_0x3229af(0x147)]=null,_0x5949fd['current']=null;},[_0x3e97bf]);return _0x1b94c8()[_0x2cf9d0(0x18e)](async _0x27641c=>{const _0x1af850=_0x2cf9d0;if(_0x200f28(_0x1af850(0x14f)),_0x289d27(),_0x53110a[_0x1af850(0x147)]=_0x27641c,_0x3b4ebf['status']?.[_0x1af850(0x10e)]===_0x1af850(0x120)){_0x200f28(_0x1af850(0x156)+_0x3b4ebf[_0x1af850(0x1e7)][_0x1af850(0x26b)]?.['message'],_0x1af850(0x26b));return;}if(!_0x3b4ebf[_0x1af850(0x203)][_0x1af850(0x272)]||!_0x3b4ebf[_0x1af850(0x1ac)]?.['keyId']){_0x200f28(_0x1af850(0x1b4),'error');return;}let _0x1afb85=new MediaSource();_0x37b0a4[_0x1af850(0x147)]=_0x1afb85,_0x1afb85[_0x1af850(0x24a)](_0x1af850(0x17f),()=>_0x200f28(_0x1af850(0x119))),_0x1afb85[_0x1af850(0x24a)](_0x1af850(0x1c0),()=>_0x200f28('[MSE]\x20Event:\x20sourceended')),_0x1afb85[_0x1af850(0x24a)]('sourceclose',()=>_0x200f28(_0x1af850(0x1dd))),_0x14f45f[_0x1af850(0x147)]&&(_0x14f45f[_0x1af850(0x147)][_0x1af850(0x24a)]('waiting',()=>_0x200f28(_0x1af850(0x1cd))),_0x14f45f['current']['addEventListener'](_0x1af850(0x16c),()=>_0x200f28(_0x1af850(0x26e))),_0x14f45f[_0x1af850(0x147)][_0x1af850(0x24a)](_0x1af850(0x26b),()=>_0x200f28(_0x1af850(0x162)+_0x14f45f['current']?.[_0x1af850(0x26b)]?.[_0x1af850(0x1d1)],_0x1af850(0x26b)))),_0x12b526[_0x1af850(0x147)]=new Worker(new URL(_0x41cb39['p']+_0x41cb39['u'](0xba3),_0x41cb39['b']));let _0xc3f3a8=async()=>{const _0x67a451=_0x1af850;let _0x213ec7=_0x5949fd[_0x67a451(0x147)];if(!_0x213ec7||_0x213ec7['updating'])return;let _0x590d75=_0x1343b7[_0x67a451(0x147)];if(_0x590d75>=_0x5a5ceb[_0x67a451(0x147)][_0x67a451(0xca)]){if(_0x67a451(0x16b)===_0x1afb85[_0x67a451(0x187)]&&!_0x213ec7['updating'])try{_0x1afb85['endOfStream']();}catch(_0x252f8a){_0x200f28(_0x67a451(0xf8)+_0x252f8a[_0x67a451(0x1d1)],_0x67a451(0x26b));}return;}try{let _0x585773,_0x436c4d=_0x5a5ceb[_0x67a451(0x147)][_0x590d75];if(_0x615776){if(!(_0x585773=_0x615776[_0x67a451(0x111)][_0x67a451(0x188)](_0x436c4d)))throw Error(_0x67a451(0x1ea)+_0x436c4d);}else{let _0xc171ad=await _0x51c1f1?.[_0x67a451(0x15e)]();if(!_0xc171ad)throw Error(_0x67a451(0x25d));_0x200f28('STAGE_4_SEGMENT_DOWNLOAD:\x20START\x20-\x20Path:\x20'+_0x436c4d);let _0x457309=await _0x1ae9fe(_0xc171ad,_0x3b4ebf['id'],_0x436c4d),_0x409394=await fetch(_0x457309);if(!_0x409394['ok'])throw Error(_0x67a451(0x11d)+_0x409394[_0x67a451(0x1e7)]+'\x20'+_0x409394[_0x67a451(0x1c2)]);_0x585773=await _0x409394[_0x67a451(0x20a)](),_0x200f28('STAGE_4_SEGMENT_DOWNLOAD:\x20SUCCESS',_0x67a451(0xe7));}_0x200f28('STAGE_5_WORKER_DECRYPT:\x20START\x20-\x20Segment\x20index:\x20'+_0x590d75),_0x12b526[_0x67a451(0x147)]?.[_0x67a451(0x12c)]({'type':_0x67a451(0x22c),'payload':{'requestId':_0x27641c+'-'+_0x590d75,'encryptedSegment':_0x585773,'derivedKeyB64':_0x5d61e1[_0x67a451(0x147)],'segmentPath':_0x436c4d,'encryption':_0x3b4ebf[_0x67a451(0x1ac)]}});}catch(_0x917b68){_0x200f28(_0x67a451(0x24e)+_0x917b68[_0x67a451(0x1d1)],_0x67a451(0x26b));return;}};_0x12b526[_0x1af850(0x147)]['onmessage']=_0x3a5003=>{const _0x5b4b5e=_0x1af850;let {type:_0x2286b2,payload:_0x2da19f}=_0x3a5003[_0x5b4b5e(0x1bc)];if(_0x5b4b5e(0x10f)===_0x2286b2){_0x200f28('STAGE_5_WORKER_DECRYPT:\x20SUCCESS',_0x5b4b5e(0xe7));let {decryptedSegment:_0x4e7aac}=_0x2da19f,_0xd4323e=_0x5949fd[_0x5b4b5e(0x147)],_0x1ad667=()=>{const _0x3d55bc=_0x5b4b5e;if(_0xd4323e?.[_0x3d55bc(0xf9)]){_0xd4323e[_0x3d55bc(0x24a)](_0x3d55bc(0x1b5),_0x1ad667,{'once':!0x0});return;}try{_0x200f28('STAGE_6_MSE_APPEND:\x20START'),_0xd4323e?.[_0x3d55bc(0x149)](_0x4e7aac),_0x200f28('STAGE_6_MSE_APPEND:\x20SUCCESS',_0x3d55bc(0xe7));}catch(_0x3a9511){_0x200f28(_0x3d55bc(0x1b0)+_0x3a9511['message'],_0x3d55bc(0x26b));}};_0x1ad667();}else _0x200f28(_0x5b4b5e(0x259)+_0x2da19f[_0x5b4b5e(0x1d1)],'error');},_0x1afb85[_0x1af850(0x24a)](_0x1af850(0x17f),async()=>{const _0x16f75a=_0x1af850;try{let _0x15e788;if(_0x615776){if(new Date()>new Date(_0x615776['license']['expiresAt']))throw _0x200f28(_0x16f75a(0x220),_0x16f75a(0x26b)),Error(_0x16f75a(0xf7));_0x15e788=_0x615776[_0x16f75a(0x173)],_0x5d61e1[_0x16f75a(0x147)]=_0x615776['license'][_0x16f75a(0x242)],_0x533f63(_0x615776[_0x16f75a(0x1f9)][_0x16f75a(0x1ce)]),_0x200f28(_0x16f75a(0x175),_0x16f75a(0xe7));}else{if(!_0x51c1f1)throw Error('로그인이\x20필요합니다.');let _0x56c7b9=await _0x51c1f1[_0x16f75a(0x15e)]();_0x200f28(_0x16f75a(0x22a));let _0x5d44cb=await fetch('/api/play-session',{'method':_0x16f75a(0x114),'headers':{'Content-Type':_0x16f75a(0x224),'Authorization':'Bearer\x20'+_0x56c7b9},'body':JSON[_0x16f75a(0x1ae)]({'videoId':_0x3b4ebf['id'],'deviceId':_0x16f75a(0x209)})});if(!_0x5d44cb['ok']){let _0x3fee4c=await _0x5d44cb[_0x16f75a(0x1cb)]();throw Error(_0x3fee4c[_0x16f75a(0x1d1)]||_0x16f75a(0x254)+_0x5d44cb[_0x16f75a(0x1e7)]);}let _0x1908d1=await _0x5d44cb['json']();_0x5d61e1[_0x16f75a(0x147)]=_0x1908d1[_0x16f75a(0xdc)],_0x1ff4de(_0x1908d1['sessionId']),_0x533f63(_0x1908d1[_0x16f75a(0x1ce)]),_0x200f28(_0x16f75a(0x1ee)+_0x1908d1[_0x16f75a(0x261)],_0x16f75a(0xe7)),_0x200f28(_0x16f75a(0x273));let _0x2d62a6=await _0x1ae9fe(_0x56c7b9,_0x3b4ebf['id'],_0x3b4ebf[_0x16f75a(0x203)][_0x16f75a(0x272)]),_0x5c00e1=await fetch(_0x2d62a6);_0x15e788=await _0x5c00e1[_0x16f75a(0x1cb)](),_0x200f28('STAGE_2_MANIFEST_FETCH:\x20SUCCESS',_0x16f75a(0xe7));}if(!_0x5d61e1[_0x16f75a(0x147)])throw Error(_0x16f75a(0xeb));let _0x523245=_0x15e788['codec'];if(!MediaSource['isTypeSupported'](_0x523245))throw Error(_0x16f75a(0xe6)+_0x523245);_0x200f28(_0x16f75a(0x23c)+_0x523245+'\x27\x20is\x20supported.');let _0x4b3882=_0x1afb85[_0x16f75a(0x1d7)](_0x523245);if(_0x5949fd[_0x16f75a(0x147)]=_0x4b3882,_0x4b3882[_0x16f75a(0x24a)](_0x16f75a(0x22b),()=>_0x200f28(_0x16f75a(0x228))),_0x4b3882[_0x16f75a(0x24a)]('updateend',()=>_0x200f28('[MSE]\x20SourceBuffer\x20event:\x20updateend')),_0x4b3882[_0x16f75a(0x24a)](_0x16f75a(0x26b),_0x32166e=>_0x200f28(_0x16f75a(0x234)+_0x32166e,'error')),_0x4b3882[_0x16f75a(0x24a)](_0x16f75a(0x169),_0xe04a69=>_0x200f28(_0x16f75a(0x1e5),_0x16f75a(0x26b))),_0x15e788[_0x16f75a(0xcf)]&&isFinite(_0x15e788['duration']))try{_0x1afb85['duration']=_0x15e788[_0x16f75a(0xcf)];}catch(_0x201c28){_0x200f28(_0x16f75a(0x106)+_0x201c28[_0x16f75a(0x1d1)],_0x16f75a(0x26b));}_0x4b3882[_0x16f75a(0x24a)](_0x16f75a(0x1b5),()=>{_0x1343b7['current']++,_0xc3f3a8();}),_0x5a5ceb['current']=[_0x15e788[_0x16f75a(0xe5)],..._0x15e788['segments'][_0x16f75a(0x196)](_0x39233d=>_0x39233d[_0x16f75a(0x205)])],_0x1343b7[_0x16f75a(0x147)]=0x0,_0xc3f3a8();}catch(_0x22e773){_0x200f28('FATAL\x20Playback\x20setup\x20failed:\x20'+_0x22e773[_0x16f75a(0x1d1)],'error');}}),_0x14f45f[_0x1af850(0x147)]&&(_0x14f45f[_0x1af850(0x147)]['src']=URL['createObjectURL'](_0x1afb85),_0x14f45f['current'][_0x1af850(0x191)]()[_0x1af850(0xf1)](()=>{const _0x12269d=_0x1af850;_0x200f28(_0x12269d(0xd8),_0x12269d(0xe7));})['catch'](_0x4e1479=>{const _0x47a27e=_0x1af850;_0x200f28('STAGE_7_VIDEO_PLAY:\x20FAIL\x20-\x20Autoplay\x20prevented:\x20'+_0x4e1479[_0x47a27e(0x1d1)],_0x47a27e(0x26b));}));},[_0x289d27,_0x615776,_0x51c1f1,_0x3b4ebf,_0x3fda84,_0x200f28]),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4c7910['Vq'],{'open':_0x40c580,'onOpenChange':_0xbcc187,'children':(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])(_0x4c7910['cZ'],{'className':'max-w-none\x20w-full\x20h-full\x20p-0\x20flex\x20flex-col\x20border-0\x20md:max-w-[96vw]\x20md:h-[92vh]\x20md:rounded-2xl\x20overflow-hidden\x20shadow-2xl','children':[(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])(_0x2cf9d0(0xdb),{'className':_0x2cf9d0(0xed),'children':[(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])('div',{'className':'flex-1\x20min-w-0','children':[(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])(_0x4c7910['$N'],{'className':'text-base\x20font-bold\x20truncate','children':[_0x1c2aa0?.['name'],'\x20',_0x3a3795[_0x2cf9d0(0x1e0)](_0x1c6f46['Z'],{'className':_0x2cf9d0(0x231)}),'\x20',_0x3b4ebf[_0x2cf9d0(0x1bf)]]}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4c7910['Be'],{'className':'sr-only','children':_0x2cf9d0(0x241)})]}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x2cf9d0(0xdb),{'className':_0x2cf9d0(0x20b),'children':!_0x615776&&_0x3a3795[_0x2cf9d0(0x1e0)](_0x16aea6,{'downloadState':_0x24e027,'onDownload':_0x50f40a,'reasonDisabled':_0x2c795f})}),(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])(_0x4c7910['GG'],{'className':_0x2cf9d0(0x174),'children':[_0x3a3795[_0x2cf9d0(0x1e0)](_0xee01f['Z'],{'className':_0x2cf9d0(0x12a)}),_0x3a3795['jsx'](_0x2cf9d0(0x1aa),{'className':'sr-only','children':_0x2cf9d0(0x11a)})]})]}),(0x0,_0x3a3795['jsxs'])(_0x2cf9d0(0xdb),{'className':_0x2cf9d0(0x180),'children':[(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])('div',{'className':_0x2cf9d0(0x1b7),'children':[_0x3a3795['jsx'](_0x2cf9d0(0x198),{'ref':_0x14f45f,'className':_0x2cf9d0(0x1ba),'autoPlay':!0x0,'playsInline':!0x0,'controls':!0x0}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x1c1440,{'seed':_0x442373})]}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x2cf9d0(0xdb),{'className':_0x2cf9d0(0x159),'children':(0x0,_0x3a3795['jsxs'])(_0x4803fe['mQ'],{'defaultValue':'syllabus','className':_0x2cf9d0(0x121),'children':[(0x0,_0x3a3795['jsxs'])(_0x4803fe['dr'],{'className':'grid\x20w-full\x20grid-cols-5\x20rounded-none\x20border-b\x20h-12\x20bg-gray-50/50\x20flex-shrink-0','children':[_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['SP'],{'value':'syllabus','className':_0x2cf9d0(0x21b),'children':_0x2cf9d0(0x206)}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['SP'],{'value':'search','className':_0x2cf9d0(0x21b),'children':_0x2cf9d0(0xf3)}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['SP'],{'value':_0x2cf9d0(0xf4),'className':_0x2cf9d0(0x21b),'children':_0x2cf9d0(0x1e8)}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['SP'],{'value':_0x2cf9d0(0x1ca),'className':_0x2cf9d0(0x21b),'children':_0x2cf9d0(0x192)}),_0x3a3795['jsx'](_0x4803fe['SP'],{'value':'debug','className':_0x2cf9d0(0x21b),'children':_0x3a3795[_0x2cf9d0(0x1e0)](_0x481250['Z'],{'className':_0x2cf9d0(0xfd)})})]}),(0x0,_0x3a3795[_0x2cf9d0(0x1eb)])('div',{'className':'flex-1\x20min-h-0','children':[_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['nU'],{'value':_0x2cf9d0(0x213),'className':'mt-0\x20h-full','children':_0x3a3795[_0x2cf9d0(0x1e0)](_0x5b7717['x'],{'className':'h-full','children':_0x3a3795['jsx'](_0x33404f,{'episode':_0x3b4ebf,'onSeek':_0x28aec6=>{const _0x4833e4=_0x2cf9d0;let _0x280b13=_0x14f45f['current'];_0x280b13&&(_0x280b13[_0x4833e4(0x141)]=_0x28aec6,_0x280b13['play']()[_0x4833e4(0x181)](()=>{}),_0x5b5319({'title':_0x4833e4(0x23f),'description':(0x0,_0x28e221['LU'])(_0x28aec6)+'\x20지점입니다.'}));},'offlineVideoData':_0x615776})})}),_0x3a3795['jsx'](_0x4803fe['nU'],{'value':'search','className':_0x2cf9d0(0x252),'children':_0x3fda84?_0x3a3795['jsx'](_0x19b958,{'episode':_0x3b4ebf,'user':_0x3fda84}):_0x3a3795['jsx']('p',{'className':_0x2cf9d0(0x1d6),'children':_0x2cf9d0(0x1e6)})}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['nU'],{'value':_0x2cf9d0(0xf4),'className':_0x2cf9d0(0x252),'children':_0x3a3795[_0x2cf9d0(0x1e0)](_0x22143c,{})}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['nU'],{'value':_0x2cf9d0(0x1ca),'className':_0x2cf9d0(0x252),'children':_0x3fda84?_0x3a3795[_0x2cf9d0(0x1e0)](_0x3fb834,{'episode':_0x3b4ebf,'user':_0x3fda84,'videoElement':_0x14f45f['current']}):_0x3a3795[_0x2cf9d0(0x1e0)]('p',{'className':_0x2cf9d0(0x1d6),'children':_0x2cf9d0(0x1e6)})}),_0x3a3795[_0x2cf9d0(0x1e0)](_0x4803fe['nU'],{'value':_0x2cf9d0(0x237),'className':_0x2cf9d0(0x252),'children':_0x3a3795[_0x2cf9d0(0x1e0)](_0x55be75,{'logs':_0x37fbfd})})]})]})})]})]})});}},0xdcec:(_0x5cf603,_0x3a5cd3,_0x408b44)=>{'use strict';const _0x442cfd=a76_0x4e4053;_0x408b44['d'](_0x3a5cd3,{'Qd':()=>_0x110b3e,'UQ':()=>_0x344aae,'o4':()=>_0x1932e3,'vF':()=>_0x53797d});var _0x2406f7=_0x408b44(0x2856),_0x3b6d8b=_0x408b44(0x44a9),_0x15e6f8=_0x408b44(0xe1c1),_0x252210=_0x408b44(0x3977),_0x39d1d8=_0x408b44(0xc817);let _0x344aae=_0x15e6f8['fC'],_0x110b3e=_0x3b6d8b[_0x442cfd(0x260)](({className:_0x1bdbf8,..._0x2b558f},_0xf90745)=>_0x2406f7[_0x442cfd(0x1e0)](_0x15e6f8['ck'],{'ref':_0xf90745,'className':(0x0,_0x39d1d8['cn'])(_0x442cfd(0x1a9),_0x1bdbf8),..._0x2b558f}));_0x110b3e[_0x442cfd(0xd7)]='AccordionItem';let _0x1932e3=_0x3b6d8b[_0x442cfd(0x260)](({className:_0x3b4a86,children:_0x1282ba,..._0x13ad6b},_0x18ca9b)=>_0x2406f7[_0x442cfd(0x1e0)](_0x15e6f8['h4'],{'className':_0x442cfd(0x24b),'children':(0x0,_0x2406f7[_0x442cfd(0x1eb)])(_0x15e6f8['xz'],{'ref':_0x18ca9b,'className':(0x0,_0x39d1d8['cn'])(_0x442cfd(0x232),_0x3b4a86),..._0x13ad6b,'children':[_0x1282ba,_0x2406f7[_0x442cfd(0x1e0)](_0x252210['Z'],{'className':_0x442cfd(0x18d)})]})}));_0x1932e3[_0x442cfd(0xd7)]=_0x15e6f8['xz'][_0x442cfd(0xd7)];let _0x53797d=_0x3b6d8b[_0x442cfd(0x260)](({className:_0x136e06,children:_0x8105ac,..._0x11390f},_0x5f43a7)=>_0x2406f7['jsx'](_0x15e6f8['VY'],{'ref':_0x5f43a7,'className':_0x442cfd(0x103),..._0x11390f,'children':_0x2406f7['jsx']('div',{'className':(0x0,_0x39d1d8['cn'])(_0x442cfd(0xe2),_0x136e06),'children':_0x8105ac})}));_0x53797d[_0x442cfd(0xd7)]=_0x15e6f8['VY']['displayName'];},0x1405f:(_0x16e11d,_0x4dabbb,_0x4a7bb8)=>{'use strict';const _0x1e1c55=a76_0x4e4053;_0x4a7bb8['d'](_0x4dabbb,{'g':()=>_0x2f45da});var _0x262ee6=_0x4a7bb8(0x2856),_0x250108=_0x4a7bb8(0x44a9),_0x20fd02=_0x4a7bb8(0xc817);let _0x2f45da=_0x250108[_0x1e1c55(0x260)](({className:_0x329b5e,..._0x52ff84},_0x4fa323)=>_0x262ee6[_0x1e1c55(0x1e0)](_0x1e1c55(0x137),{'className':(0x0,_0x20fd02['cn'])(_0x1e1c55(0x199),_0x329b5e),'ref':_0x4fa323,..._0x52ff84}));_0x2f45da[_0x1e1c55(0xd7)]='Textarea';},0x4af1:(_0x1da214,_0x475f57,_0xbf41d4)=>{'use strict';const _0x1fec43=a76_0x4e4053;_0xbf41d4['d'](_0x475f57,{'Rl':()=>_0xe36fb0,'Tc':()=>_0x40d514,'t3':()=>_0x37adca}),_0xbf41d4(0x3c40);var _0x4023e8=_0xbf41d4(0xb4a2),_0x37adca=(0x0,_0x4023e8['$'])(_0x1fec43(0x1d2)),_0xe36fb0=(0x0,_0x4023e8['$'])('70c8199843ae9cea23fe20637bccd2196272a790'),_0x40d514=(0x0,_0x4023e8['$'])(_0x1fec43(0x21f));},0x17a28:(_0x3d841e,_0x35fef4,_0x451171)=>{'use strict';const _0x44b4b1=a76_0x4e4053;_0x451171['d'](_0x35fef4,{'e':()=>_0x29b17a}),_0x451171(0x3c40);var _0x29b17a=(0x0,_0x451171(0xb4a2)['$'])(_0x44b4b1(0x17b));},0x1106c:(_0x3bd505,_0x375f0e,_0x399e3a)=>{'use strict';const _0x5b3aaa=a76_0x4e4053;_0x399e3a['d'](_0x375f0e,{'$V':()=>_0x451bf4,'FM':()=>_0x51dcfc,'gb':()=>_0x2443f0});var _0x12dfcd=_0x399e3a(0x17a28),_0x11b645=_0x399e3a(0xb514);let _0x5188f0=_0x5b3aaa(0x110),_0x466064='segments',_0x5841c9=null,_0x5e57bf=()=>new Promise((_0x51063e,_0x1a7ee2)=>{const _0x27dcbe=_0x5b3aaa;if(_0x5841c9)return _0x51063e(_0x5841c9);let _0x4ce894=indexedDB['open'](_0x27dcbe(0x10a),0x2);_0x4ce894[_0x27dcbe(0x1e4)]=()=>_0x1a7ee2(Error(_0x27dcbe(0x183))),_0x4ce894[_0x27dcbe(0x13e)]=()=>{const _0x28d626=_0x27dcbe;_0x51063e(_0x5841c9=_0x4ce894[_0x28d626(0x1f4)]);},_0x4ce894[_0x27dcbe(0x19a)]=_0x1b28d2=>{const _0x1aa3cc=_0x27dcbe;let _0x49ec1f=_0x1b28d2['target'][_0x1aa3cc(0x1f4)];_0x49ec1f[_0x1aa3cc(0x176)][_0x1aa3cc(0x123)](_0x5188f0)||_0x49ec1f['createObjectStore'](_0x5188f0,{'keyPath':_0x1aa3cc(0x13a)}),_0x49ec1f[_0x1aa3cc(0x176)][_0x1aa3cc(0x123)](_0x466064)||_0x49ec1f[_0x1aa3cc(0x256)](_0x466064);};}),_0x451bf4=async _0x3648c9=>{const _0x189282=_0x5b3aaa;let _0x90b435=await _0x5e57bf(),_0x823a3=null;if(_0x189282(0x258)===_0x3648c9[_0x189282(0x1cf)]['ai'][_0x189282(0x1e7)]&&_0x3648c9['episode']['ai'][_0x189282(0x136)]?.[_0x189282(0xe8)])try{let _0x2c12b5=(0x0,_0x11b645['v0'])();if(!_0x2c12b5[_0x189282(0x150)])throw Error(_0x189282(0x184));let _0x59bf3f=await _0x2c12b5['currentUser']['getIdToken'](),_0x559c9a=_0x3648c9[_0x189282(0x1cf)]['ai']['resultPaths']['search_data'],{signedUrl:_0x2594a2,error:_0x43ae3f}=await(0x0,_0x12dfcd['e'])(_0x59bf3f,_0x3648c9[_0x189282(0x1cf)]['id'],_0x559c9a);if(_0x43ae3f||!_0x2594a2)throw Error(_0x43ae3f||_0x189282(0x255));let _0x263d75=await fetch(_0x2594a2);if(!_0x263d75['ok'])throw Error('Failed\x20to\x20fetch\x20AI\x20content:\x20'+_0x263d75[_0x189282(0x1c2)]);_0x823a3=await _0x263d75[_0x189282(0x1cb)]();}catch(_0x574ec0){}let {segments:_0x5eee29,..._0x196be7}=_0x3648c9,_0x38f9e6={..._0x196be7,'aiContent':_0x823a3},_0x457fa3=_0x90b435[_0x189282(0x1b6)](_0x5188f0,_0x189282(0x1a1));_0x457fa3[_0x189282(0x11b)](_0x5188f0)['put'](_0x38f9e6),await new Promise((_0x35b282,_0x665737)=>{const _0x1c1cc2=_0x189282;_0x457fa3[_0x1c1cc2(0x215)]=()=>_0x35b282(),_0x457fa3[_0x1c1cc2(0x1e4)]=_0x92e8cf=>_0x665737(Error(_0x1c1cc2(0x25a)+_0x92e8cf['target']?.[_0x1c1cc2(0x26b)]?.[_0x1c1cc2(0x1d1)]));});let _0x31e582=[_0x3648c9[_0x189282(0x173)][_0x189282(0xe5)],..._0x3648c9[_0x189282(0x173)][_0x189282(0x111)][_0x189282(0x196)](_0x542ae8=>_0x542ae8[_0x189282(0x205)])];for(let _0x1bd41c=0x0;_0x1bd41c<_0x31e582[_0x189282(0xca)];_0x1bd41c+=0x5){let _0x8b8648=_0x31e582['slice'](_0x1bd41c,_0x1bd41c+0x5);try{let _0x35ee76=await Promise[_0x189282(0x105)](_0x8b8648['map'](async _0x13d7b1=>{const _0x37d176=_0x189282;let _0x4cfa07=(0x0,_0x11b645['v0'])();if(!_0x4cfa07[_0x37d176(0x150)])throw Error(_0x37d176(0x26a));let _0x115228=await _0x4cfa07[_0x37d176(0x150)][_0x37d176(0x15e)](),{signedUrl:_0x345509,error:_0x3744aa}=await(0x0,_0x12dfcd['e'])(_0x115228,_0x3648c9[_0x37d176(0x1cf)]['id'],_0x13d7b1);if(_0x3744aa||!_0x345509)throw Error(_0x3744aa||_0x37d176(0x240));let _0x4b4c09=await fetch(_0x345509);if(!_0x4b4c09['ok'])throw Error(_0x37d176(0x223)+_0x4b4c09['statusText']);let _0x790f62=await _0x4b4c09[_0x37d176(0x20a)]();return{'key':_0x3648c9[_0x37d176(0x1cf)]['id']+'-'+_0x13d7b1,'value':_0x790f62};})),_0x50aeef=_0x90b435[_0x189282(0x1b6)](_0x466064,_0x189282(0x1a1)),_0x4158c7=_0x50aeef[_0x189282(0x11b)](_0x466064);_0x35ee76['forEach'](_0x135708=>{const _0x53e0c9=_0x189282;_0x4158c7[_0x53e0c9(0x13c)](_0x135708[_0x53e0c9(0x18b)],_0x135708[_0x53e0c9(0xd3)]);}),await new Promise((_0x415e40,_0x841ae5)=>{const _0x1c09ac=_0x189282;_0x50aeef[_0x1c09ac(0x215)]=()=>_0x415e40(),_0x50aeef['onerror']=_0x455b12=>_0x841ae5(Error(_0x1c09ac(0x129)+_0x455b12['target']?.[_0x1c09ac(0x26b)]?.[_0x1c09ac(0x1d1)]));});}catch(_0x2742d4){throw _0x2742d4;}}},_0x2443f0=async _0x180745=>{const _0xce4eee=_0x5b3aaa;let _0x54c1df=await _0x5e57bf(),_0x46bb47=await new Promise((_0x156ba2,_0x597d50)=>{const _0x2643dd=a76_0x3c6c;let _0x5edbde=_0x54c1df[_0x2643dd(0x1b6)](_0x5188f0,_0x2643dd(0x227))['objectStore'](_0x5188f0)[_0x2643dd(0x188)](_0x180745);_0x5edbde[_0x2643dd(0x13e)]=()=>_0x156ba2(_0x5edbde[_0x2643dd(0x1f4)]||null),_0x5edbde[_0x2643dd(0x1e4)]=_0x40b173=>_0x597d50(Error(_0x2643dd(0x25c)+_0x40b173['target']?.[_0x2643dd(0x26b)]?.[_0x2643dd(0x1d1)]));});if(!_0x46bb47)return null;let _0x288bda=new Map(),_0x24988d=IDBKeyRange[_0xce4eee(0x1c3)](_0x180745+'-',_0x180745+'-~');return await new Promise((_0x3eb821,_0x597ab4)=>{const _0x275c9e=_0xce4eee;let _0x3d64c7=_0x54c1df[_0x275c9e(0x1b6)](_0x466064,_0x275c9e(0x227))[_0x275c9e(0x11b)](_0x466064)[_0x275c9e(0xfb)](_0x24988d);_0x3d64c7[_0x275c9e(0x13e)]=_0x4b82d2=>{const _0x972279=_0x275c9e;let _0x953358=_0x4b82d2['target'][_0x972279(0x1f4)];if(_0x953358){let _0x388bc6=_0x953358['key'][_0x972279(0x1a7)](_0x180745[_0x972279(0xca)]+0x1);_0x288bda['set'](_0x388bc6,_0x953358['value']),_0x953358[_0x972279(0x1f3)]();}else _0x3eb821();},_0x3d64c7[_0x275c9e(0x1e4)]=_0xef1786=>_0x597ab4(Error(_0x275c9e(0x115)+_0xef1786['target']?.[_0x275c9e(0x26b)]?.[_0x275c9e(0x1d1)]));}),{..._0x46bb47,'segments':_0x288bda};},_0x51dcfc=async _0x3f6fa6=>{const _0x47bbe3=_0x5b3aaa;let _0x1845b8=(await _0x5e57bf())['transaction']([_0x5188f0,_0x466064],_0x47bbe3(0x1a1));_0x1845b8[_0x47bbe3(0x11b)](_0x5188f0)[_0x47bbe3(0x16a)](_0x3f6fa6);let _0x147027=IDBKeyRange[_0x47bbe3(0x1c3)](_0x3f6fa6+'-',_0x3f6fa6+'-~');return _0x1845b8[_0x47bbe3(0x11b)](_0x466064)[_0x47bbe3(0x16a)](_0x147027),new Promise((_0x1b6058,_0x52249b)=>{const _0x5b2e5a=_0x47bbe3;_0x1845b8[_0x5b2e5a(0x215)]=()=>_0x1b6058(),_0x1845b8[_0x5b2e5a(0x1e4)]=_0x42cea3=>_0x52249b(Error('비디오\x20삭제에\x20실패했습니다:\x20'+_0x42cea3[_0x5b2e5a(0x1d5)]?.[_0x5b2e5a(0x26b)]?.[_0x5b2e5a(0x1d1)]));});};},0x15e6b:(_0x43fbea,_0x343ae1,_0x10464f)=>{'use strict';_0x10464f['a'](_0x43fbea,async(_0x390c35,_0x31abae)=>{const _0x1c5d6d=a76_0x3c6c;try{_0x10464f['r'](_0x343ae1),_0x10464f['d'](_0x343ae1,{'askVideoTutor':()=>_0x36f5db});var _0x151d4a=_0x10464f(0x6c61);_0x10464f(0x675d);var _0x2ea684=_0x10464f(0xd6e1),_0x396640=_0x10464f(0x63ed),_0x5950ba=_0x10464f(0x2d93),_0x2627db=_0x10464f(0x763a),_0x730f01=_0x10464f(0x1695d),_0x5497f9=_0x10464f(0x14edb),_0x3972c5=_0x390c35([_0x2627db]);_0x2627db=(_0x3972c5[_0x1c5d6d(0xf1)]?(await _0x3972c5)():_0x3972c5)[0x0];let _0x1ed97f=_0x5950ba['Ry']({'episodeId':_0x5950ba['Z_']()[_0x1c5d6d(0x1e2)](_0x1c5d6d(0x244)),'question':_0x5950ba['Z_']()[_0x1c5d6d(0x1e2)](_0x1c5d6d(0x235)),'userId':_0x5950ba['Z_']()['describe'](_0x1c5d6d(0x22e))}),_0x4578d1=_0x5950ba['Ry']({'answer':_0x5950ba['Z_']()[_0x1c5d6d(0x1e2)]('The\x20generated\x20answer\x20from\x20the\x20AI\x20tutor.')});async function _0x36f5db(_0xbd5a31){return await _0x16c009(_0xbd5a31);}let _0x16c009=_0x2ea684['ai'][_0x1c5d6d(0xcb)]({'name':_0x1c5d6d(0x251),'inputSchema':_0x1ed97f,'outputSchema':_0x4578d1},async({episodeId:_0x49db4e,question:_0x360dc8,userId:_0x533b8a})=>{const _0x2a61f9=_0x1c5d6d;let _0x8d33ec=await(0x0,_0x2627db['vc'])(),_0x59f89d=_0x730f01[_0x2a61f9(0xf5)](_0x8d33ec);try{let _0x9bbb2e=await _0x59f89d['collection']('episodes')['doc'](_0x49db4e)[_0x2a61f9(0x188)]();if(!_0x9bbb2e[_0x2a61f9(0x14d)])throw Error(_0x2a61f9(0x267)+_0x49db4e+_0x2a61f9(0x1ef));let _0x1ec4be=_0x9bbb2e['data'](),{pipeline:_0x1ebec3,playable:_0x5b5e06}=_0x1ec4be[_0x2a61f9(0x1e7)],{manifestPath:_0x322354}=_0x1ec4be[_0x2a61f9(0x203)],{status:_0x2bda22}=_0x1ec4be['ai'];if(_0x2a61f9(0x258)!==_0x1ebec3||!_0x5b5e06||!_0x322354||_0x2a61f9(0x21d)===_0x2bda22)return{'answer':_0x2a61f9(0x1fc)+(_0x2a61f9(0x21d)===_0x2bda22?_0x1ec4be['ai'][_0x2a61f9(0x26b)]?.[_0x2a61f9(0xfc)]:_0x2a61f9(0x166))+')'};let _0x572b20=await _0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0x269))[_0x2a61f9(0x239)](_0x1ec4be[_0x2a61f9(0x170)])[_0x2a61f9(0x188)]();if(!_0x572b20['exists'])throw Error(_0x2a61f9(0x218)+_0x1ec4be[_0x2a61f9(0x170)]+_0x2a61f9(0x1ef));let _0x564d5c=_0x572b20[_0x2a61f9(0x1bc)](),_0x5852ba=await _0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0x1d8))[_0x2a61f9(0x239)](_0x564d5c['classificationId'])[_0x2a61f9(0x188)]();if(!_0x5852ba[_0x2a61f9(0x14d)])throw Error(_0x2a61f9(0x1fe)+_0x564d5c['classificationId']+_0x2a61f9(0x1ef));let _0xfae668=_0x5852ba['data'](),_0x24550e=await _0x59f89d[_0x2a61f9(0xe9)]('fields')['doc'](_0xfae668[_0x2a61f9(0x210)])[_0x2a61f9(0x188)]();if(!_0x24550e[_0x2a61f9(0x14d)])throw Error(_0x2a61f9(0xe0)+_0xfae668[_0x2a61f9(0x210)]+_0x2a61f9(0x1ef));_0x24550e[_0x2a61f9(0x1bc)]();let _0x261352=await _0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0x155))[_0x2a61f9(0x188)](),_0x5bcf81=new Map();_0x261352[_0x2a61f9(0x118)](_0x5bec99=>{const _0x3c057f=_0x2a61f9;_0x5bcf81[_0x3c057f(0x12b)](_0x5bec99['id'],_0x5bec99[_0x3c057f(0x1bc)]()[_0x3c057f(0x1bf)]);});let _0x196f64=_0x1ec4be['ai'][_0x2a61f9(0x136)]?.[_0x2a61f9(0x126)],_0x5b23aa=_0x2a61f9(0x109);if(_0x196f64){let _0x498db8=_0x730f01[_0x2a61f9(0x203)](_0x8d33ec)[_0x2a61f9(0x20c)]()[_0x2a61f9(0x229)](_0x196f64),[_0x159b3b]=await _0x498db8[_0x2a61f9(0x14d)]();if(_0x159b3b){let [_0x2631ce]=await _0x498db8[_0x2a61f9(0x246)]();_0x5b23aa=_0x2631ce[_0x2a61f9(0x168)](_0x2a61f9(0x1c1));}}let _0x1bbd48=(await _0x2ea684['ai']['generate']({'model':_0x396640['L']['model'](_0x2a61f9(0x263)),'system':_0x2a61f9(0x1d0)+_0x1ec4be[_0x2a61f9(0x1bf)]+_0x2a61f9(0x271)+_0x5b23aa+_0x2a61f9(0x189),'prompt':'User\x27s\x20Question:\x20\x22'+_0x360dc8+'\x22'}))[_0x2a61f9(0x1d4)],_0x182a89=_0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0xd9))[_0x2a61f9(0x239)]()['id'],_0x2db890=_0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0xd9))[_0x2a61f9(0x239)](_0x533b8a)[_0x2a61f9(0xe9)](_0x2a61f9(0x216))['doc'](_0x182a89),_0xc970b4=_0x59f89d[_0x2a61f9(0xe9)](_0x2a61f9(0x190))[_0x2a61f9(0x239)](_0x182a89),_0x5484d6={'id':_0x182a89,'userId':_0x533b8a,'episodeId':_0x49db4e,'courseId':_0x1ec4be[_0x2a61f9(0x170)],'question':_0x360dc8,'answer':_0x1bbd48,'contextReferences':[_0x5b23aa[_0x2a61f9(0x1a7)](0x0,0x1f4)],'createdAt':_0x730f01[_0x2a61f9(0xf5)][_0x2a61f9(0x1f0)][_0x2a61f9(0x26f)]()},_0x10cb7c=_0x59f89d[_0x2a61f9(0x1cc)]();return _0x10cb7c[_0x2a61f9(0x12b)](_0x2db890,_0x5484d6),_0x10cb7c[_0x2a61f9(0x12b)](_0xc970b4,_0x5484d6),await _0x10cb7c[_0x2a61f9(0x219)](),{'answer':_0x1bbd48};}catch(_0xbdffd9){let _0x4626b5=_0xbdffd9 instanceof Error?_0xbdffd9[_0x2a61f9(0x1d1)]:'An\x20unknown\x20error\x20occurred\x20during\x20AI\x20processing.';return{'answer':_0x2a61f9(0x264)+_0x4626b5+')'};}});(0x0,_0x5497f9['h'])([_0x36f5db]),(0x0,_0x151d4a['j'])('8e5a5e16d611d1fd6c224fcb71186a357eede9da',_0x36f5db),_0x31abae();}catch(_0x1e1d62){_0x31abae(_0x1e1d62);}});},0xd6e1:(_0x8bbd53,_0x25df9d,_0x181f39)=>{'use strict';const _0x37360b=a76_0x4e4053;_0x181f39['d'](_0x25df9d,{'ai':()=>_0xa618a5});var _0x1408ab=_0x181f39(0xca3e),_0x1e9242=_0x181f39(0x63ed);let _0xa618a5=(0x0,_0x1408ab[_0x37360b(0x182)])({'plugins':[(0x0,_0x1e9242['L'])()]});},0xd65a:(_0x3daddc,_0x1c1096,_0xd432ee)=>{'use strict';_0xd432ee['a'](_0x3daddc,async(_0x3f6039,_0x4ead26)=>{const _0x1f88e8=a76_0x3c6c;try{_0xd432ee['r'](_0x1c1096),_0xd432ee['d'](_0x1c1096,{'addBookmark':()=>_0x4b1e78,'deleteBookmark':()=>_0x26694e,'updateBookmarkNote':()=>_0x2beefc});var _0x576fe9=_0xd432ee(0x6c61);_0xd432ee(0x675d);var _0x245f0e=_0xd432ee(0x763a),_0x41a5a7=_0xd432ee(0x1695d),_0x436816=_0xd432ee(0x75ff),_0xaa9a35=_0xd432ee(0x14edb),_0x2050fa=_0x3f6039([_0x245f0e]);async function _0x4b1e78(_0x517ba0){const _0x4db3e3=a76_0x3c6c;let {userId:_0x12c461,episodeId:_0x9dbf46,courseId:_0x39be6f,timestamp:_0x594931,note:_0x37dd49}=_0x517ba0;if(!_0x12c461||!_0x9dbf46||!_0x39be6f)return{'success':!0x1,'message':_0x4db3e3(0x1f7)};try{let _0x4927e5=await(0x0,_0x245f0e['vc'])(),_0x1ab577=_0x41a5a7[_0x4db3e3(0xf5)](_0x4927e5),_0x4c6263=await _0x1ab577[_0x4db3e3(0xe9)]('users')[_0x4db3e3(0x239)](_0x12c461)['get']();if(!_0x4c6263[_0x4db3e3(0x14d)])throw Error(_0x4db3e3(0x125));let _0x93634c=_0x4c6263[_0x4db3e3(0x1bc)](),_0x489f21=await _0x1ab577[_0x4db3e3(0xe9)]('episodes')[_0x4db3e3(0x239)](_0x9dbf46)['get']();if(!_0x489f21[_0x4db3e3(0x14d)])throw Error(_0x4db3e3(0x23d));let _0x4d161e=_0x489f21[_0x4db3e3(0x1bc)](),_0x1f7535=_0x1ab577['batch'](),_0x5a538c=_0x1ab577[_0x4db3e3(0xe9)]('bookmarks')['doc']()['id'],_0xd2990c={'id':_0x5a538c,'userId':_0x12c461,'episodeId':_0x9dbf46,'courseId':_0x39be6f,'timestamp':_0x594931,'note':_0x37dd49,'createdAt':_0x41a5a7[_0x4db3e3(0xf5)][_0x4db3e3(0x1f0)][_0x4db3e3(0x26f)](),'userName':_0x93634c['name'],'userEmail':_0x93634c[_0x4db3e3(0x167)],'episodeTitle':_0x4d161e['title']},_0x2008c4=_0x1ab577[_0x4db3e3(0xe9)](_0x4db3e3(0xd9))[_0x4db3e3(0x239)](_0x12c461)[_0x4db3e3(0xe9)]('bookmarks')[_0x4db3e3(0x239)](_0x5a538c);_0x1f7535[_0x4db3e3(0x12b)](_0x2008c4,_0xd2990c);let _0x2eddca=_0x1ab577[_0x4db3e3(0xe9)]('bookmarks')['doc'](_0x5a538c);return _0x1f7535['set'](_0x2eddca,_0xd2990c),await _0x1f7535[_0x4db3e3(0x219)](),(0x0,_0x436816[_0x4db3e3(0x20e)])(_0x4db3e3(0x195)),{'success':!0x0,'message':_0x4db3e3(0x253),'bookmarkId':_0x5a538c};}catch(_0x126766){let _0x50fb44=_0x126766 instanceof Error?_0x126766[_0x4db3e3(0x1d1)]:_0x4db3e3(0xd1);return{'success':!0x1,'message':_0x4db3e3(0x21a)+_0x50fb44};}}async function _0x26694e(_0x2863c7,_0x12b837){const _0x784f2=a76_0x3c6c;if(!_0x2863c7||!_0x12b837)return{'success':!0x1,'message':_0x784f2(0x10c)};try{let _0x31441b=await(0x0,_0x245f0e['vc'])(),_0xd2c4f2=_0x41a5a7[_0x784f2(0xf5)](_0x31441b),_0x497f1d=_0xd2c4f2['batch'](),_0x10f43e=_0xd2c4f2[_0x784f2(0xe9)](_0x784f2(0xd9))[_0x784f2(0x239)](_0x2863c7)[_0x784f2(0xe9)](_0x784f2(0x157))[_0x784f2(0x239)](_0x12b837);_0x497f1d['delete'](_0x10f43e);let _0x4475cc=_0xd2c4f2[_0x784f2(0xe9)](_0x784f2(0x157))[_0x784f2(0x239)](_0x12b837);return _0x497f1d[_0x784f2(0x16a)](_0x4475cc),await _0x497f1d['commit'](),(0x0,_0x436816[_0x784f2(0x20e)])(_0x784f2(0x195)),{'success':!0x0,'message':_0x784f2(0x248)};}catch(_0x352b38){let _0x417c13=_0x352b38 instanceof Error?_0x352b38[_0x784f2(0x1d1)]:'알\x20수\x20없는\x20오류가\x20발생했습니다.';return{'success':!0x1,'message':_0x784f2(0x163)+_0x417c13};}}async function _0x2beefc(_0x5dea7b){const _0x49f338=a76_0x3c6c;let {userId:_0x118543,bookmarkId:_0xaaa524,note:_0x7ddcf9}=_0x5dea7b;if(!_0x118543||!_0xaaa524)return{'success':!0x1,'message':'사용자\x20ID와\x20북마크\x20ID는\x20필수입니다.'};try{let _0x32e793=await(0x0,_0x245f0e['vc'])(),_0x31b6a2=_0x41a5a7[_0x49f338(0xf5)](_0x32e793),_0x175def=_0x31b6a2[_0x49f338(0x1cc)](),_0x1e5b3a=_0x31b6a2[_0x49f338(0xe9)](_0x49f338(0xd9))['doc'](_0x118543)[_0x49f338(0xe9)](_0x49f338(0x157))[_0x49f338(0x239)](_0xaaa524);_0x175def[_0x49f338(0x22b)](_0x1e5b3a,{'note':_0x7ddcf9});let _0x1d8af1=_0x31b6a2[_0x49f338(0xe9)](_0x49f338(0x157))[_0x49f338(0x239)](_0xaaa524);return _0x175def[_0x49f338(0x22b)](_0x1d8af1,{'note':_0x7ddcf9}),await _0x175def[_0x49f338(0x219)](),(0x0,_0x436816[_0x49f338(0x20e)])('/admin/bookmarks'),{'success':!0x0,'message':_0x49f338(0x15a)};}catch(_0x2b1029){let _0x52974a=_0x2b1029 instanceof Error?_0x2b1029['message']:_0x49f338(0xd1);return{'success':!0x1,'message':_0x49f338(0x21e)+_0x52974a};}}_0x245f0e=(_0x2050fa[_0x1f88e8(0xf1)]?(await _0x2050fa)():_0x2050fa)[0x0],(0x0,_0xaa9a35['h'])([_0x4b1e78,_0x26694e,_0x2beefc]),(0x0,_0x576fe9['j'])('70c8199843ae9cea23fe20637bccd2196272a790',_0x4b1e78),(0x0,_0x576fe9['j'])(_0x1f88e8(0x21f),_0x26694e),(0x0,_0x576fe9['j'])(_0x1f88e8(0x1d2),_0x2beefc),_0x4ead26();}catch(_0x210b3f){_0x4ead26(_0x210b3f);}});},0x17170:(_0x26b97d,_0x4002f7,_0x38d4fd)=>{'use strict';_0x38d4fd['a'](_0x26b97d,async(_0x5d12a9,_0xd99061)=>{const _0x18ce6d=a76_0x3c6c;try{_0x38d4fd['r'](_0x4002f7),_0x38d4fd['d'](_0x4002f7,{'getSignedUrl':()=>_0x50026b});var _0xf67ce1=_0x38d4fd(0x6c61);_0x38d4fd(0x675d);var _0x374766=_0x38d4fd(0x763a),_0x5b4a31=_0x38d4fd(0x1695d),_0x53997e=_0x38d4fd(0x4e9c),_0x4c234b=_0x38d4fd(0x14edb),_0x104e72=_0x5d12a9([_0x374766]);async function _0x50026b(_0x2dec02,_0x523344,_0x4233da){const _0x2a272f=a76_0x3c6c;try{let _0x4f78fd=await(0x0,_0x374766['vc'])(),_0x1c3e0e=_0x5b4a31[_0x2a272f(0xce)](_0x4f78fd),_0x5b8166=_0x5b4a31[_0x2a272f(0xf5)](_0x4f78fd),_0x464058=_0x5b4a31['storage'](_0x4f78fd),_0x1f5079=(await _0x1c3e0e[_0x2a272f(0x1ec)](_0x2dec02))[_0x2a272f(0x233)],[_0x184a7f,_0x123ff8]=await Promise[_0x2a272f(0x105)]([_0x5b8166[_0x2a272f(0xe9)](_0x2a272f(0x155))[_0x2a272f(0x239)](_0x523344)[_0x2a272f(0x188)](),_0x5b8166[_0x2a272f(0xe9)]('users')[_0x2a272f(0x239)](_0x1f5079)['get']()]);if(!_0x184a7f[_0x2a272f(0x14d)])return{'error':_0x2a272f(0xd2)};if(!_0x123ff8[_0x2a272f(0x14d)])return{'error':_0x2a272f(0x1ff)};let _0x341ec3=_0x184a7f['data'](),_0x3a1541=_0x123ff8[_0x2a272f(0x1bc)](),_0x1c331d=_0x3a1541[_0x2a272f(0x1db)]?.[_0x341ec3[_0x2a272f(0x170)]],_0x4c3164=_0x1c331d&&new Date()<(0x0,_0x53997e['we'])(_0x1c331d[_0x2a272f(0xde)]);if(!_0x341ec3[_0x2a272f(0x178)]&&!_0x4c3164)return{'error':_0x2a272f(0x138)};let _0x2e022b=_0x4233da['includes'](_0x2a272f(0x1fb)),_0x593920=_0x4233da[_0x2a272f(0x10d)]('/ai/');if(_0x2e022b){if(_0x4233da===_0x341ec3[_0x2a272f(0x203)]['manifestPath']);else{if(!_0x341ec3[_0x2a272f(0x203)][_0x2a272f(0x272)])return{'error':'ERROR_MANIFEST_NOT_FOUND'};let _0x2f2757=_0x464058[_0x2a272f(0x20c)]()[_0x2a272f(0x229)](_0x341ec3[_0x2a272f(0x203)][_0x2a272f(0x272)]),[_0x4bae45]=await _0x2f2757[_0x2a272f(0x246)](),_0x398bce=JSON[_0x2a272f(0x100)](_0x4bae45[_0x2a272f(0x168)](_0x2a272f(0x270)));if(![_0x398bce[_0x2a272f(0xe5)],..._0x398bce['segments'][_0x2a272f(0x196)](_0xb37b2e=>_0xb37b2e[_0x2a272f(0x205)])]['includes'](_0x4233da))return{'error':'ERROR_INVALID_PATH'};}}else{if(_0x593920&&!Object[_0x2a272f(0x153)](_0x341ec3['ai'][_0x2a272f(0x136)]||{})['includes'](_0x4233da))return{'error':_0x2a272f(0xf0)};}let [_0x563483]=await _0x464058['bucket']()[_0x2a272f(0x229)](_0x4233da)['getSignedUrl']({'version':'v4','action':_0x2a272f(0x1d3),'expires':Date['now']()+0xea60});return{'signedUrl':_0x563483};}catch(_0x3d7ca2){return{'error':'ERROR_SIGNED_URL_FAILED:\x20'+_0x3d7ca2[_0x2a272f(0x1d1)]};}}_0x374766=(_0x104e72[_0x18ce6d(0xf1)]?(await _0x104e72)():_0x104e72)[0x0],(0x0,_0x4c234b['h'])([_0x50026b]),(0x0,_0xf67ce1['j'])(_0x18ce6d(0x17b),_0x50026b),_0xd99061();}catch(_0x3ebeda){_0xd99061(_0x3ebeda);}});},0x10da7:(_0x59cdc0,_0x1ffeaf,_0x59d52e)=>{'use strict';_0x59d52e['a'](_0x59cdc0,async(_0x431b8a,_0x52806b)=>{const _0x2f9b29=a76_0x3c6c;try{_0x59d52e['r'](_0x1ffeaf),_0x59d52e['d'](_0x1ffeaf,{'createPlaySession':()=>_0xa7c4f8,'endPlaySession':()=>_0x2acee5,'heartbeatPlaySession':()=>_0x309391});var _0x175dc5=_0x59d52e(0x6c61);_0x59d52e(0x675d);var _0x544270=_0x59d52e(0x763a),_0x36551b=_0x59d52e(0x1695d),_0x46cc9a=_0x59d52e(0x11ce1),_0x155c10=_0x59d52e(0x14edb),_0x49a88c=_0x431b8a([_0x544270,_0x46cc9a]);async function _0xa7c4f8(_0x50f180,_0x522ae8,_0x2494af){const _0x355d88=a76_0x3c6c;let _0x38c03c=await(0x0,_0x544270['vc'])(),_0x46980c=_0x36551b[_0x355d88(0xf5)](_0x38c03c),_0x3683be=_0x46980c[_0x355d88(0xe9)](_0x355d88(0x217)),_0x1c5739=_0x3683be[_0x355d88(0x239)](),_0x533488=async _0x30e7af=>{const _0x3e9e82=_0x355d88;let _0x2d6a9c=_0x30e7af||_0x1c5739['id'];await _0x3683be[_0x3e9e82(0x239)](_0x2d6a9c)[_0x3e9e82(0x16a)]()[_0x3e9e82(0x181)](_0x25e53a=>console[_0x3e9e82(0x26b)](_0x3e9e82(0x1da)+_0x2d6a9c,_0x25e53a));};try{return await _0x46980c['runTransaction'](async _0x456352=>{const _0x4ea5de=_0x355d88;let _0x5ddc20=_0x46cc9a['Timestamp'][_0x4ea5de(0x19f)](),_0x4204b5=_0x46cc9a[_0x4ea5de(0x238)][_0x4ea5de(0x221)](_0x5ddc20[_0x4ea5de(0x202)]()-0x15f90),_0x1d870d=_0x3683be[_0x4ea5de(0x135)](_0x4ea5de(0x1c8),'==',_0x50f180),_0x3c64a1=await _0x456352[_0x4ea5de(0x188)](_0x1d870d),_0x56e0d2=[],_0x7e72b5=[];if(_0x3c64a1[_0x4ea5de(0x118)](_0x5d7702=>{const _0x1a3228=_0x4ea5de;let _0x537054=_0x5d7702[_0x1a3228(0x1bc)]();_0x537054[_0x1a3228(0x10b)]&&_0x537054['lastHeartbeat'][_0x1a3228(0x202)]()>_0x4204b5[_0x1a3228(0x202)]()?_0x56e0d2[_0x1a3228(0x177)](_0x5d7702):_0x7e72b5[_0x1a3228(0x177)](_0x5d7702);}),_0x7e72b5[_0x4ea5de(0xca)]>0x0&&_0x7e72b5[_0x4ea5de(0x118)](_0x15f5d0=>_0x456352[_0x4ea5de(0x16a)](_0x15f5d0[_0x4ea5de(0x19c)])),_0x56e0d2['length']>=0x2)throw Error(_0x4ea5de(0x112));_0x456352[_0x4ea5de(0x12b)](_0x1c5739,{'userId':_0x50f180,'videoId':_0x522ae8,'deviceId':_0x2494af,'startedAt':_0x5ddc20,'lastHeartbeat':_0x5ddc20});}),{'success':!0x0,'message':_0x355d88(0x1c6),'sessionId':_0x1c5739['id'],'cleanup':()=>_0x533488(_0x1c5739['id'])};}catch(_0x1f2e5d){if(_0x355d88(0x112)===_0x1f2e5d[_0x355d88(0x1d1)])return{'success':!0x1,'message':'동시\x20접속\x20가능한\x20기기\x20수(2대)를\x20초과했습니다.\x20다른\x20기기에서\x20재생을\x20중지하고\x20다시\x20시도해주세요.','cleanup':async()=>{}};return{'success':!0x1,'message':_0x355d88(0x17c),'cleanup':async()=>{}};}}async function _0x309391(_0x389ac4){const _0x443814=a76_0x3c6c;if(!_0x389ac4)return{'success':!0x1};try{let _0x4317f6=await(0x0,_0x544270['vc'])(),_0x3d1581=_0x36551b['firestore'](_0x4317f6);return await _0x3d1581[_0x443814(0xe9)](_0x443814(0x217))[_0x443814(0x239)](_0x389ac4)[_0x443814(0x22b)]({'lastHeartbeat':_0x46cc9a[_0x443814(0x238)][_0x443814(0x19f)]()}),{'success':!0x0};}catch(_0x349969){return{'success':!0x1};}}async function _0x2acee5(_0x5a6c73){const _0x4fb579=a76_0x3c6c;if(!_0x5a6c73)return{'success':!0x1};try{let _0x25205f=await(0x0,_0x544270['vc'])(),_0x1749f0=_0x36551b['firestore'](_0x25205f);return await _0x1749f0[_0x4fb579(0xe9)]('play_sessions')[_0x4fb579(0x239)](_0x5a6c73)[_0x4fb579(0x16a)](),{'success':!0x0};}catch(_0xdeb5f8){return{'success':!0x1};}}[_0x544270,_0x46cc9a]=_0x49a88c['then']?(await _0x49a88c)():_0x49a88c,(0x0,_0x155c10['h'])([_0xa7c4f8,_0x309391,_0x2acee5]),(0x0,_0x175dc5['j'])(_0x2f9b29(0x250),_0xa7c4f8),(0x0,_0x175dc5['j'])('783e3fffc62d584389c1934bab17d0b4e76544c7',_0x309391),(0x0,_0x175dc5['j'])(_0x2f9b29(0x18a),_0x2acee5),_0x52806b();}catch(_0x391745){_0x52806b(_0x391745);}});},0x4e9c:(_0x520f3e,_0x30851d,_0x55bb69)=>{'use strict';function _0x44c4be(_0x3a4480){const _0x7cfd41=a76_0x3c6c;return _0x3a4480?_0x7cfd41(0x143)==typeof _0x3a4480['toDate']?_0x3a4480[_0x7cfd41(0x19d)]():_0x3a4480 instanceof Date?_0x3a4480:null:null;}_0x55bb69['d'](_0x30851d,{'we':()=>_0x44c4be});}});